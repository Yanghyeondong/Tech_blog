{"componentChunkName":"component---src-templates-post-template-tsx","path":"/sw-coaching-week-3/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><em>본 포스트는 IOWA 대학 <strong>이강표</strong>(Kang-Pyo Lee) 박사님의 허락을 구하고 강의를 정리한 것입니다.</em><br>\n<em>강의 사진, 코드의 저작권은 모두 이강표 박사님께 있습니다.</em></p>\n<h2 id=\"1-강의-정리\" style=\"position:relative;\"><a href=\"#1-%EA%B0%95%EC%9D%98-%EC%A0%95%EB%A6%AC\" aria-label=\"1 강의 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 강의 정리</h2>\n<p><del>설 연휴로 포스팅이 좀 밀렸습니다</del><br>\n이번 강의도 실습 위주로 진행했습니다. 일부 중요점만 정리하여 알아보겠습니다.</p>\n<h3 id=\"dataframe-접근\" style=\"position:relative;\"><a href=\"#dataframe-%EC%A0%91%EA%B7%BC\" aria-label=\"dataframe 접근 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dataframe 접근</h3>\n<p>우선 간단하게 import 및 불러오기를 진행합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\r\ndf <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"test.csv\"</span></span><span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\"\\t\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>다음으로 인덱싱을 통해 row에 접근해 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># error</span></code></pre></div>\n<p>위의 코드에서 <code class=\"language-text\">df[0]</code> 부분에서 오류가 발생합니다. dataframe에서 특정 row를 불러오기 위해서는 다음과 같은 예시처럼 작성해야 합니다. 즉, 범위 인덱싱만 가능한 것입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\r\ndf<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\r\ndf<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p><br>\n다음으로 특정 column 의 데이터를 불러오는 경우입니다.<br>\n예시로 <code class=\"language-text\">text</code>라는 column의 0번째 데이터를 불러와보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>반대로 작성할 경우 작동하지 않습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># error</span></code></pre></div>\n<p><br>\n다음으로 <code class=\"language-text\">.iloc()</code>을 이용한 접근입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>위의 코드는 <code class=\"language-text\">df[0]</code>와 다르게 오류가 나지 않으며, 0번째 row가 잘 출력됩니다.<br>\n<code class=\"language-text\">.iloc()</code>의 경우 row와 column의 동시 접근이 가능합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># Return the last 3 rows in the last 2 columns</span></code></pre></div>\n<p>조건을 다는 것도 가능합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">.</span>retweet_count <span class=\"token operator\">></span> <span class=\"token number\">5000</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># rows with its retweet_count larger than 5000</span></code></pre></div>\n<p><br>\n마지막으로 반복문을 통한 row 출력입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">for</span> idx<span class=\"token punctuation\">,</span> row <span class=\"token keyword\">in</span> df2<span class=\"token punctuation\">.</span>iterrows<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    sid <span class=\"token operator\">=</span> row<span class=\"token punctuation\">.</span>status_id\r\n    text <span class=\"token operator\">=</span> row<span class=\"token punctuation\">.</span>text\r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"[</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>idx<span class=\"token punctuation\">}</span></span><span class=\"token string\">]\\nsid: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>sid<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\ntext: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>text<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n\"</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"dataframe-수정\" style=\"position:relative;\"><a href=\"#dataframe-%EC%88%98%EC%A0%95\" aria-label=\"dataframe 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dataframe 수정</h3>\n<p>현재 dataframe에 새로운 column이나 데이터를 만드는 법을 알아보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span><span class=\"token string\">\"text_length\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">text_length</code>라는 column을 새로 만듭니다. 이때 각 row의 내용은 <code class=\"language-text\">text</code> column의 내용을 불러온 후 람다 표현식을 통해 길이를 계산하여 채웁니다.<br>\n<br>\n다음과 같이 dataframe 전체를 불러올 수도 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span><span class=\"token string\">\"text_detailed\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"[</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>x<span class=\"token punctuation\">.</span>created_at<span class=\"token punctuation\">}</span></span><span class=\"token string\">] </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>x<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><br>\nstring의 경우, 굳이 람다식을 사용하지 않더라도 다음과 같은 기능을 활용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span><span class=\"token string\">\"text_splits\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">\"text_nospace\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"_\"</span><span class=\"token punctuation\">)</span>\r\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">\"mention_covid\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">.</span>contains<span class=\"token punctuation\">(</span><span class=\"token string\">\"covid\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">case</span><span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\r\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">\"num_hashtags\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">(</span><span class=\"token string\">\"#\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"dataframe-저장\" style=\"position:relative;\"><a href=\"#dataframe-%EC%A0%80%EC%9E%A5\" aria-label=\"dataframe 저장 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dataframe 저장</h3>\n<p>수정하거나 새로 만든 dataframe은 다음과 같이 저장할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token comment\"># text 부분만 csv로 저장</span>\r\ndf<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>to_csv<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>outcome_folder<span class=\"token punctuation\">}</span></span><span class=\"token string\">/timeline_copy.csv\"</span></span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\"># 전체 dataframe을 csv로 저장</span>\r\ndf<span class=\"token punctuation\">.</span>to_csv<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>outcome_folder<span class=\"token punctuation\">}</span></span><span class=\"token string\">/timeline_copy1.csv\"</span></span><span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\"\\t\"</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"2-코드-코칭\" style=\"position:relative;\"><a href=\"#2-%EC%BD%94%EB%93%9C-%EC%BD%94%EC%B9%AD\" aria-label=\"2 코드 코칭 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 코드 코칭</h2>\n<p><em>코드 전문은 분량상 제외하였으며, 피드백 위주로 정리하였습니다. Colab 환경을 기반으로 합니다.</em></p>\n<h3 id=\"함수-최적화\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"함수 최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수 최적화</h3>\n<p>dataframe이 클수록 적용시키는 함수 하나하나의 최적화에 따라 사용 시간이 크게 변합니다. 예를 들어 아래의 코드는  간단히 람다 함수를 사용하기 위해 <code class=\"language-text\">split()</code>를 2번 시행합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token operator\">%</span>time df<span class=\"token punctuation\">[</span><span class=\"token string\">\"first_last_token\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\"># CPU times: user 14.7 ms, sys: 941 µs, total: 15.7 ms Wall time: 19.5 ms</span></code></pre></div>\n<p>하지만 이를 다음 코드처럼 새 함수를 만들어 <code class=\"language-text\">split()</code>을 한 번만 사용한다면 시간을 절반으로 절약할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">get_token</span><span class=\"token punctuation\">(</span>x <span class=\"token punctuation\">:</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">tuple</span><span class=\"token punctuation\">:</span>\r\n    splited <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>splited<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> splited<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token operator\">%</span>time df<span class=\"token punctuation\">[</span><span class=\"token string\">\"first_last_token\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> get_token<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\"># CPU times: user 5.92 ms, sys: 1.94 ms, total: 7.86 ms Wall time: 8.05 ms</span></code></pre></div>\n<h3 id=\"-접근-vs--접근\" style=\"position:relative;\"><a href=\"#-%EC%A0%91%EA%B7%BC-vs--%EC%A0%91%EA%B7%BC\" aria-label=\" 접근 vs  접근 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[] 접근 vs . 접근</h3>\n<p>dataframe의 특정 column에 접근할 때 다음과 같이 <code class=\"language-text\">[]</code> 뿐만 아니라 <code class=\"language-text\">.</code>으로 접근이 가능합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">]</span>\r\ndf<span class=\"token punctuation\">.</span>text</code></pre></div>\n<p>하지만, 새로운 column을 만들 때는 <code class=\"language-text\">.</code>이 작동하지 않습니다. 꼭 <code class=\"language-text\">[]</code>를 사용하여야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">df<span class=\"token punctuation\">[</span><span class=\"token string\">\"text_shortened\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">)</span>\r\ndf<span class=\"token punctuation\">.</span>text_shortened <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># error</span></code></pre></div>\n<h2 id=\"3-느낀-점\" style=\"position:relative;\"><a href=\"#3-%EB%8A%90%EB%82%80-%EC%A0%90\" aria-label=\"3 느낀 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 느낀 점</h2>\n<p>지금까지 Web scraping으로 <del>힘들게</del> 수집한 데이터들을 직접 수정하고 확인해 보는 시간이었습니다. 수많은 데이터를 이토록 쉽고 빠르게 다루는 pandas가 새삼 대단하게 느껴졌습니다. 다음 시간에 배우는 클러스터링과 토픽 모델링으로 좀 더 깊은 분석을 하는 순간이 기다려집니다. 😎</p>\n<h2 id=\"source\" style=\"position:relative;\"><a href=\"#source\" aria-label=\"source permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source</h2>\n<ul>\n<li>성균관대학교 SW Coaching 프로그램</li>\n<li>이강표(Kang-Pyo Lee) 박사님 강의</li>\n</ul>\n<!--\r\n1주 Web Scraping 기초\r\n2주 Web Scraping 심화\r\n3주 Pandas Dataframe 다루기\r\n4주 텍스트 데이터 처리\r\n5주 문서 클러스터링 및 토픽 모델링\r\n6주 개인 프로젝트 발표\r\n-->","id":"dc194d27-4191-5b07-bec7-e6d3823a328d","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-%EA%B0%95%EC%9D%98-%EC%A0%95%EB%A6%AC\">1. 강의 정리</a></p>\n<ul>\n<li><a href=\"#dataframe-%EC%A0%91%EA%B7%BC\">dataframe 접근</a></li>\n<li><a href=\"#dataframe-%EC%88%98%EC%A0%95\">dataframe 수정</a></li>\n<li><a href=\"#dataframe-%EC%A0%80%EC%9E%A5\">dataframe 저장</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-%EC%BD%94%EB%93%9C-%EC%BD%94%EC%B9%AD\">2. 코드 코칭</a></p>\n<ul>\n<li><a href=\"#%ED%95%A8%EC%88%98-%EC%B5%9C%EC%A0%81%ED%99%94\">함수 최적화</a></li>\n<li><a href=\"#-%EC%A0%91%EA%B7%BC-vs--%EC%A0%91%EA%B7%BC\">[] 접근 vs . 접근</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EB%8A%90%EB%82%80-%EC%A0%90\">3. 느낀 점</a></p>\n</li>\n<li>\n<p><a href=\"#source\">Source</a></p>\n</li>\n</ul>","frontmatter":{"title":"[SW Coaching - Week 3] Pandas Dataframe 다루기","summary":"파이썬 Web Scraping, Pandas, iloc, 람다 표현식","date":"2023.02.03.","categories":["Python","WebScraping","SW Coaching"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABDElEQVQoz4VS26qDQAz0b7zfsLY+ixcE7UERRURFf8H/JyWBSGoXzsOQZMyOyc5qruuC53lf8H2fIGtVD+esgVGThWEYoOs6mKZJOUaGqmbuRxARhiFUVQVN00CWZRfSNIWyLKGua8qLooA8z6nGfuR4WhLkBAWnaYJlWSjO8wxt28IwDLCuK9XHcUDf9/RT5sZxJEEeTLmyXMdxnIvDnHnkmFfeoTQDEQQBWJYF27bBeZ6w7zt0XUeHpGl3c74EeWyZ41UkSQJxHEMURRcve/8VlM22bdOkGBH3nvt5TfUO+SOujU7+vd+X+2yAfH8SmmpsWT8eMbyez2tl6lE8aOXDVq2CzkrcV7wLfgDvRV6jXDm1DgAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/71fafbdab083bf87e9bcabefe44c0254/821f2/title.png","srcSet":"/static/71fafbdab083bf87e9bcabefe44c0254/f7e00/title.png 319w,\n/static/71fafbdab083bf87e9bcabefe44c0254/0ffa0/title.png 638w,\n/static/71fafbdab083bf87e9bcabefe44c0254/821f2/title.png 1276w","sizes":"(min-width: 1276px) 1276px, 100vw"},"sources":[{"srcSet":"/static/71fafbdab083bf87e9bcabefe44c0254/7d17b/title.webp 319w,\n/static/71fafbdab083bf87e9bcabefe44c0254/4b853/title.webp 638w,\n/static/71fafbdab083bf87e9bcabefe44c0254/5914a/title.webp 1276w","type":"image/webp","sizes":"(min-width: 1276px) 1276px, 100vw"}]},"width":1276,"height":713}},"publicURL":"/static/71fafbdab083bf87e9bcabefe44c0254/title.png"}}}}]}},"pageContext":{"slug":"/sw-coaching-week-3/"}},"staticQueryHashes":[]}