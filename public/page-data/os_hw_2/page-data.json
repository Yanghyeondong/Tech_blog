{"componentChunkName":"component---src-templates-post-template-tsx","path":"/os_hw_2/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><em>í•´ë‹¹ í¬ìŠ¤íŠ¸ëŠ” í•„ìê°€ ì§ì ‘ í’€ì´í•œ ê²ƒìœ¼ë¡œ ì˜¤ë‹µì´ë‚˜ ì˜ëª»ëœ í•´ì„ì´ ìˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</em><br>\n<em>í˜¹ì‹œë‚˜ ì§€ì í•  ë¶€ë¶„ì´ ìˆë‹¤ë©´ í•­ìƒ í™˜ì˜ì…ë‹ˆë‹¤!</em> ğŸ˜</p>\n<h2 id=\"ë¬¸ì œ-ë°-í’€ì´\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%EB%B0%8F-%ED%92%80%EC%9D%B4\" aria-label=\"ë¬¸ì œ ë° í’€ì´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¬¸ì œ ë° í’€ì´</h2>\n<h4 id=\"1-first-write-a-simple-program-called-nullc-that-creates-a-pointer-to-an-integer-sets-it-to-null-and-then-tries-to-dereference-it-compile-this-into-an-executable-called-null\" style=\"position:relative;\"><a href=\"#1-first-write-a-simple-program-called-nullc-that-creates-a-pointer-to-an-integer-sets-it-to-null-and-then-tries-to-dereference-it-compile-this-into-an-executable-called-null\" aria-label=\"1 first write a simple program called nullc that creates a pointer to an integer sets it to null and then tries to dereference it compile this into an executable called null permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. First, write a simple program called null.c that creates a pointer to an integer, sets it to NULL, and then tries to dereference it. Compile this into an executable called null.</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\r\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span>\r\n\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">int</span><span class=\"token operator\">*</span> x<span class=\"token punctuation\">;</span>\r\n    x <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">int</span> y <span class=\"token operator\">=</span> <span class=\"token operator\">*</span>x<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ gcc <span class=\"token operator\">-</span>o null null<span class=\"token punctuation\">.</span>c</code></pre></div>\n<p>What happens when you run this program?<br>\ní”„ë¡œê·¸ë¨ ì‹¤í–‰ ì‹œ ì•„ë˜ì™€ ê°™ì´ Segmentation faultê°€ ë°œìƒí•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ null\r\nSegmentation <span class=\"token function\">fault</span> <span class=\"token punctuation\">(</span>core dumped<span class=\"token punctuation\">)</span></code></pre></div>\n<h4 id=\"2-next-compile-this-program-with-symbol-information-included-with-the--g-flag-doing-so-lets-put-more-information-into-the-executable-enabling-the-debugger-to-access-more-useful-information-about-variable-names-and-the-like-run-the-program-under-the-debugger-by-typing-gdb-null-and-then-once-gdb-is-running-typing-run\" style=\"position:relative;\"><a href=\"#2-next-compile-this-program-with-symbol-information-included-with-the--g-flag-doing-so-lets-put-more-information-into-the-executable-enabling-the-debugger-to-access-more-useful-information-about-variable-names-and-the-like-run-the-program-under-the-debugger-by-typing-gdb-null-and-then-once-gdb-is-running-typing-run\" aria-label=\"2 next compile this program with symbol information included with the  g flag doing so lets put more information into the executable enabling the debugger to access more useful information about variable names and the like run the program under the debugger by typing gdb null and then once gdb is running typing run permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Next, compile this program with symbol information included (with the -g flag). Doing so letâ€™s put more information into the executable, enabling the debugger to access more useful information about variable names and the like. Run the program under the debugger by typing gdb null and then, once gdb is running, typing run.</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ gcc <span class=\"token operator\">-</span>g <span class=\"token operator\">-</span>o null null<span class=\"token punctuation\">.</span>c\r\n<span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ gdb null\r\nGNU <span class=\"token function\">gdb</span> <span class=\"token punctuation\">(</span>Ubuntu <span class=\"token number\">8.1</span><span class=\"token number\">.1</span><span class=\"token operator\">-</span><span class=\"token number\">0u</span>buntu1<span class=\"token punctuation\">)</span> <span class=\"token number\">8.1</span><span class=\"token number\">.1</span>\r\n<span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2018</span> Free Software Foundation<span class=\"token punctuation\">,</span> Inc<span class=\"token punctuation\">.</span>\r\n<span class=\"token punctuation\">(</span>ìƒëµ<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\r\nReading symbols from null<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>done<span class=\"token punctuation\">.</span>\r\n<span class=\"token punctuation\">(</span>gdb<span class=\"token punctuation\">)</span> run\r\nStarting program<span class=\"token operator\">:</span> <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span><span class=\"token number\">2019312219</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token operator\">/</span>null \r\n\r\nProgram received signal SIGSEGV<span class=\"token punctuation\">,</span> Segmentation fault<span class=\"token punctuation\">.</span>\r\n<span class=\"token number\">0x000055555555460a</span> in <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> at null<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">7</span>\r\n<span class=\"token number\">7</span>           <span class=\"token keyword\">int</span> y <span class=\"token operator\">=</span> <span class=\"token operator\">*</span>x<span class=\"token punctuation\">;</span></code></pre></div>\n<p>What does gdb show you?<br>\ndereferenceí•œ xë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œì—ì„œ SIGSEGV signalê³¼ í•¨ê»˜ Segmentation fault ê°€ ë°œìƒí•¨ì„ ì•Œë ¤ì£¼ê³  ìˆë‹¤</p>\n<h4 id=\"3-finally-use-the-valgrind-tool-on-this-program-well-use-the-memcheck-tool-that-is-a-part-of-valgrind-to-analyze-what-happens-run-this-by-typing-in-the-following-valgrind---leak-checkyes-null\" style=\"position:relative;\"><a href=\"#3-finally-use-the-valgrind-tool-on-this-program-well-use-the-memcheck-tool-that-is-a-part-of-valgrind-to-analyze-what-happens-run-this-by-typing-in-the-following-valgrind---leak-checkyes-null\" aria-label=\"3 finally use the valgrind tool on this program well use the memcheck tool that is a part of valgrind to analyze what happens run this by typing in the following valgrind   leak checkyes null permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Finally, use the valgrind tool on this program. Weâ€™ll use the memcheck tool that is a part of valgrind to analyze what happens. Run this by typing in the following: valgrind â€“leak-check=yes null.</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ valgrind <span class=\"token operator\">--</span>leak<span class=\"token operator\">-</span>check<span class=\"token operator\">=</span>yes null\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> Memcheck<span class=\"token punctuation\">,</span> a memory error detector\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> <span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2002</span><span class=\"token operator\">-</span><span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> and GNU GPL'd<span class=\"token punctuation\">,</span> by Julian Seward et al<span class=\"token punctuation\">.</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> Using Valgrind<span class=\"token operator\">-</span><span class=\"token number\">3.13</span><span class=\"token number\">.0</span> and LibVEX<span class=\"token punctuation\">;</span> rerun with <span class=\"token operator\">-</span>h <span class=\"token keyword\">for</span> copyright info\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> Command<span class=\"token operator\">:</span> null\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> Invalid read of size <span class=\"token number\">4</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x10860A</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>  Address <span class=\"token number\">0x0</span> is not stack<span class=\"token char\">'d, malloc'</span>d <span class=\"token function\">or</span> <span class=\"token punctuation\">(</span>recently<span class=\"token punctuation\">)</span> free'd\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> Process terminating with <span class=\"token keyword\">default</span> action of signal <span class=\"token number\">11</span> <span class=\"token punctuation\">(</span>SIGSEGV<span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>  Access not within mapped region at address <span class=\"token number\">0x0</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x10860A</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>  If you believe this happened as a result of a stack\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>  overflow in your program's main <span class=\"token function\">thread</span> <span class=\"token punctuation\">(</span>unlikely but\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>  possible<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> you can try to increase the size of the\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>  main thread stack using the <span class=\"token operator\">--</span>main<span class=\"token operator\">-</span>stacksize<span class=\"token operator\">=</span> flag<span class=\"token punctuation\">.</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>  The main thread stack size used in this run was <span class=\"token number\">8388608.</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> HEAP SUMMARY<span class=\"token operator\">:</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>     in use at exit<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span>   total heap usage<span class=\"token operator\">:</span> <span class=\"token number\">0</span> allocs<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> frees<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> bytes allocated\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> All heap blocks were freed <span class=\"token operator\">--</span> no leaks are possible\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> For counts of detected and suppressed errors<span class=\"token punctuation\">,</span> rerun with<span class=\"token operator\">:</span> <span class=\"token operator\">-</span>v\r\n<span class=\"token operator\">==</span><span class=\"token number\">10900</span><span class=\"token operator\">==</span> ERROR SUMMARY<span class=\"token operator\">:</span> <span class=\"token number\">1</span> errors from <span class=\"token number\">1</span> <span class=\"token function\">contexts</span> <span class=\"token punctuation\">(</span>suppressed<span class=\"token operator\">:</span> <span class=\"token number\">0</span> from <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\r\nSegmentation <span class=\"token function\">fault</span> <span class=\"token punctuation\">(</span>core dumped<span class=\"token punctuation\">)</span></code></pre></div>\n<p>What happens when you run this? Can you interpret the output from the tool?<br>\n<code class=\"language-text\">int y = *x;</code> ë¥¼ í†µí•´ í¬ì¸í„°xì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ë¶ˆëŸ¬ì˜¤ë ¤ í•˜ë‹ˆ <code class=\"language-text\">Invalid read of size 4, Address 0x0 is not stack'd, malloc'd or (recently) free'd</code> ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì´ëŠ” xê°€ nullì´ê¸° ë•Œë¬¸ì— dereferenceë¥¼ í•  ë•Œ í•´ë‹¹ ì£¼ì†Œì˜ ê°’ì„ ì°¾ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.<br>\nì¶”ê°€ë¡œ <code class=\"language-text\">Process terminating with default action of signal 11 (SIGSEGV), Access not within mapped region at address 0x0</code> ë“± SIGSEGV signal ê³¼ address ì°¸ì¡° ì˜¤ë¥˜ë„ ì¶œë ¥ëœë‹¤.</p>\n<h4 id=\"4-write-a-simple-program--that-allocates-memory-using-malloc-but-forgets-to-free-it-before-exiting\" style=\"position:relative;\"><a href=\"#4-write-a-simple-program--that-allocates-memory-using-malloc-but-forgets-to-free-it-before-exiting\" aria-label=\"4 write a simple program  that allocates memory using malloc but forgets to free it before exiting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Write a simple program  that allocates memory using malloc() but forgets to free it before exiting.</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\r\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span>\r\n\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">int</span><span class=\"token operator\">*</span> x <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token function\">malloc</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token operator\">*</span>x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x: %d\\n\"</span><span class=\"token punctuation\">,</span><span class=\"token operator\">*</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>What happens when this program runs?<br>\nì•„ë˜ ì¶œë ¥ê³¼ ê°™ì´ ì•„ë¬´ ì´ìƒ ì—†ì´ ì‹¤í–‰ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ gcc <span class=\"token operator\">-</span>g <span class=\"token operator\">-</span>o q4 q4<span class=\"token punctuation\">.</span>c\r\n<span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ q4\r\nx<span class=\"token operator\">:</span> <span class=\"token number\">1</span></code></pre></div>\n<p>Can you use gdb to find any problems with it?<br>\nì•„ë˜ì˜ ì¶œë ¥ê³¼ ê°™ì´ ì•„ë¬´ ë¬¸ì œê°€ ì—†ìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ gdb q4\r\nGNU <span class=\"token function\">gdb</span> <span class=\"token punctuation\">(</span>Ubuntu <span class=\"token number\">8.1</span><span class=\"token number\">.1</span><span class=\"token operator\">-</span><span class=\"token number\">0u</span>buntu1<span class=\"token punctuation\">)</span> <span class=\"token number\">8.1</span><span class=\"token number\">.1</span>\r\n<span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2018</span> Free Software Foundation<span class=\"token punctuation\">,</span> Inc<span class=\"token punctuation\">.</span>\r\n<span class=\"token punctuation\">(</span>ìƒëµ<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\r\nReading symbols from q4<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>done<span class=\"token punctuation\">.</span>\r\n<span class=\"token punctuation\">(</span>gdb<span class=\"token punctuation\">)</span> run\r\nStarting program<span class=\"token operator\">:</span> <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span><span class=\"token number\">2019312219</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token operator\">/</span>q4 \r\nx<span class=\"token operator\">:</span> <span class=\"token number\">1</span>\r\n<span class=\"token punctuation\">[</span>Inferior <span class=\"token number\">1</span> <span class=\"token punctuation\">(</span>process <span class=\"token number\">21774</span><span class=\"token punctuation\">)</span> exited normally<span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">(</span>gdb<span class=\"token punctuation\">)</span></code></pre></div>\n<p>How about valgrind (again with the â€“leak-check=yes flag)?<br>\nvalgrindë¡œ í™•ì¸í•´ë³´ë©´ ì•„ë˜ ì¶œë ¥ê³¼ ê°™ì´ ì˜¤ë¥˜ê°€ ì¶œë ¥ëœë‹¤. 4 bytes in 1 blocks are definitely lost in loss record 1 of 1 ë¶€ë¶„ì„ í†µí•´ mallocìœ¼ë¡œ í• ë‹¹í•œ ë©”ëª¨ë¦¬ë¥¼ <code class=\"language-text\">free()</code> í•´ì£¼ì§€ ì•Šì•„ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì„ì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ valgrind <span class=\"token operator\">--</span>leak<span class=\"token operator\">-</span>check<span class=\"token operator\">=</span>yes q4\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> Memcheck<span class=\"token punctuation\">,</span> a memory error detector\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> <span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2002</span><span class=\"token operator\">-</span><span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> and GNU GPL'd<span class=\"token punctuation\">,</span> by Julian Seward et al<span class=\"token punctuation\">.</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> Using Valgrind<span class=\"token operator\">-</span><span class=\"token number\">3.13</span><span class=\"token number\">.0</span> and LibVEX<span class=\"token punctuation\">;</span> rerun with <span class=\"token operator\">-</span>h <span class=\"token keyword\">for</span> copyright info\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> Command<span class=\"token operator\">:</span> q4\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> \r\nx<span class=\"token operator\">:</span> <span class=\"token number\">1</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> HEAP SUMMARY<span class=\"token operator\">:</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span>     in use at exit<span class=\"token operator\">:</span> <span class=\"token number\">4</span> bytes in <span class=\"token number\">1</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span>   total heap usage<span class=\"token operator\">:</span> <span class=\"token number\">2</span> allocs<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> frees<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">028</span> bytes allocated\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> <span class=\"token number\">4</span> bytes in <span class=\"token number\">1</span> blocks are definitely lost in loss record <span class=\"token number\">1</span> of <span class=\"token number\">1</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x4C31B0F</span><span class=\"token operator\">:</span> <span class=\"token function\">malloc</span> <span class=\"token punctuation\">(</span>in <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>valgrind<span class=\"token operator\">/</span>vgpreload_memcheck<span class=\"token operator\">-</span>amd64<span class=\"token operator\">-</span>linux<span class=\"token punctuation\">.</span>so<span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span>    by <span class=\"token number\">0x10869B</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q4<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> LEAK SUMMARY<span class=\"token operator\">:</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span>    definitely lost<span class=\"token operator\">:</span> <span class=\"token number\">4</span> bytes in <span class=\"token number\">1</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span>    indirectly lost<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span>      possibly lost<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span>    still reachable<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span>         suppressed<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> For counts of detected and suppressed errors<span class=\"token punctuation\">,</span> rerun with<span class=\"token operator\">:</span> <span class=\"token operator\">-</span>v\r\n<span class=\"token operator\">==</span><span class=\"token number\">22300</span><span class=\"token operator\">==</span> ERROR SUMMARY<span class=\"token operator\">:</span> <span class=\"token number\">1</span> errors from <span class=\"token number\">1</span> <span class=\"token function\">contexts</span> <span class=\"token punctuation\">(</span>suppressed<span class=\"token operator\">:</span> <span class=\"token number\">0</span> from <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4 id=\"5-write-a-program-that-creates-an-array-of-integers-called-data-of-size-100-using-malloc-then-set-data100-to-zero\" style=\"position:relative;\"><a href=\"#5-write-a-program-that-creates-an-array-of-integers-called-data-of-size-100-using-malloc-then-set-data100-to-zero\" aria-label=\"5 write a program that creates an array of integers called data of size 100 using malloc then set data100 to zero permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Write a program that creates an array of integers called data of size 100 using malloc; then, set data[100] to zero.</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\r\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span>\r\n\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">int</span><span class=\"token operator\">*</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token function\">malloc</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    data<span class=\"token punctuation\">[</span><span class=\"token number\">100</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">free</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    \r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>What happens when you run this program?<br>\nì•„ë˜ ì¶œë ¥ê³¼ ê°™ì´ ì•„ë¬´ ì´ìƒ ì—†ì´ ì‹¤í–‰ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ gcc <span class=\"token operator\">-</span>g <span class=\"token operator\">-</span>o q5 q5<span class=\"token punctuation\">.</span>c\r\n<span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ q5\r\n<span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$</code></pre></div>\n<p>What happens when you run this program using valgrind? Is the program correct?<br>\nvalgrindë¡œ í™•ì¸í•´ë³´ë©´ ì•„ë˜ ê°™ì´ ì˜¤ë¥˜ê°€ ì¶œë ¥ëœë‹¤. Invalid write of size 4 ì¶œë ¥ì„ í†µí•´ <code class=\"language-text\">data[100] = 0;</code> ë¶€ë¶„ì—ì„œ ì˜¬ë°”ë¥´ì§€ ì•Šì€(ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ”) write ë¥¼ í–ˆìŒì„ ì•Œë ¤ì¤€ë‹¤. ê·¸ ì´ìœ ëŠ” intí˜•ì˜ í¬ê¸°ê°€ 4ì´ë¯€ë¡œ data[100]ì´ ê°€ë¥´í‚¤ëŠ” ìœ„ì¹˜ëŠ” ê¸°ì¡´ì˜ malloc(100) ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ valgrind <span class=\"token operator\">--</span>leak<span class=\"token operator\">-</span>check<span class=\"token operator\">=</span>yes q5\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> Memcheck<span class=\"token punctuation\">,</span> a memory error detector\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> <span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2002</span><span class=\"token operator\">-</span><span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> and GNU GPL'd<span class=\"token punctuation\">,</span> by Julian Seward et al<span class=\"token punctuation\">.</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> Using Valgrind<span class=\"token operator\">-</span><span class=\"token number\">3.13</span><span class=\"token number\">.0</span> and LibVEX<span class=\"token punctuation\">;</span> rerun with <span class=\"token operator\">-</span>h <span class=\"token keyword\">for</span> copyright info\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> Command<span class=\"token operator\">:</span> q5\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> Invalid write of size <span class=\"token number\">4</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x1086AA</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q5<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span>  Address <span class=\"token number\">0x522f1d0</span> is <span class=\"token number\">224</span> bytes inside an unallocated block of size <span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">194</span><span class=\"token punctuation\">,</span><span class=\"token number\">032</span> in arena <span class=\"token string\">\"client\"</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> HEAP SUMMARY<span class=\"token operator\">:</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span>     in use at exit<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span>   total heap usage<span class=\"token operator\">:</span> <span class=\"token number\">1</span> allocs<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> frees<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span> bytes allocated\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> All heap blocks were freed <span class=\"token operator\">--</span> no leaks are possible\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> For counts of detected and suppressed errors<span class=\"token punctuation\">,</span> rerun with<span class=\"token operator\">:</span> <span class=\"token operator\">-</span>v\r\n<span class=\"token operator\">==</span><span class=\"token number\">26470</span><span class=\"token operator\">==</span> ERROR SUMMARY<span class=\"token operator\">:</span> <span class=\"token number\">1</span> errors from <span class=\"token number\">1</span> <span class=\"token function\">contexts</span> <span class=\"token punctuation\">(</span>suppressed<span class=\"token operator\">:</span> <span class=\"token number\">0</span> from <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4 id=\"6-create-a-program-that-allocates-an-array-of-integers-as-above-frees-them-and-then-tries-to-print-the-value-of-one-of-the-elements-of-the-array\" style=\"position:relative;\"><a href=\"#6-create-a-program-that-allocates-an-array-of-integers-as-above-frees-them-and-then-tries-to-print-the-value-of-one-of-the-elements-of-the-array\" aria-label=\"6 create a program that allocates an array of integers as above frees them and then tries to print the value of one of the elements of the array permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. Create a program that allocates an array of integers (as above), frees them, and then tries to print the value of one of the elements of the array.</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\r\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span>\r\n\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">int</span><span class=\"token operator\">*</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token function\">malloc</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">free</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data[0]: %d\\n\"</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Does the program run?<br>\nì•„ë˜ ì¶œë ¥ê³¼ ê°™ì´ ì•„ë¬´ ì´ìƒ ì—†ì´ ì‹¤í–‰ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ gcc <span class=\"token operator\">-</span>g <span class=\"token operator\">-</span>o q6 q6<span class=\"token punctuation\">.</span>c\r\n<span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ q6\r\ndata<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span>\r\n<span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$</code></pre></div>\n<p>What happens when you use valgrind on it?<br>\nvalgrindë¡œ í™•ì¸í•´ë³´ë©´ ì•„ë˜ ê°™ì´ ì˜¤ë¥˜ê°€ ì¶œë ¥ëœë‹¤. Invalid read of size 4 ì¶œë ¥ì„ í†µí•´ <code class=\"language-text\">printf(\"data[0]: %d\\n\", data[0]);</code> ë¶€ë¶„ì—ì„œ ì˜¬ë°”ë¥´ì§€ ì•Šì€read ë¥¼ í–ˆìŒì„ ì•Œë ¤ì¤€ë‹¤. ì¶”ê°€ì ìœ¼ë¡œ <code class=\"language-text\">Address 0x522f040 is 0 bytes inside a block of size 100 free'd</code> ë¥¼ í†µí•´ í•´ë‹¹ ì£¼ì†ŒëŠ” ì´ë¯¸ free()ê°€ ì™„ë£Œ ë˜ì—ˆìŒì„ ì•Œë ¤ì£¼ë©°, Block was allocâ€™d at ì„ í†µí•´ ê³¼ê±° mallocìœ¼ë¡œ í• ë‹¹ ë˜ì—ˆë˜ ë¶€ë¶„ì„ë„ ì•Œë ¤ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ valgrind <span class=\"token operator\">--</span>leak<span class=\"token operator\">-</span>check<span class=\"token operator\">=</span>yes q6\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> Memcheck<span class=\"token punctuation\">,</span> a memory error detector\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> <span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2002</span><span class=\"token operator\">-</span><span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> and GNU GPL'd<span class=\"token punctuation\">,</span> by Julian Seward et al<span class=\"token punctuation\">.</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> Using Valgrind<span class=\"token operator\">-</span><span class=\"token number\">3.13</span><span class=\"token number\">.0</span> and LibVEX<span class=\"token punctuation\">;</span> rerun with <span class=\"token operator\">-</span>h <span class=\"token keyword\">for</span> copyright info\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> Command<span class=\"token operator\">:</span> q6\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> Invalid read of size <span class=\"token number\">4</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x108700</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q6<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span>  Address <span class=\"token number\">0x522f040</span> is <span class=\"token number\">0</span> bytes inside a block of size <span class=\"token number\">100</span> free'd\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x4C32D3B</span><span class=\"token operator\">:</span> <span class=\"token function\">free</span> <span class=\"token punctuation\">(</span>in <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>valgrind<span class=\"token operator\">/</span>vgpreload_memcheck<span class=\"token operator\">-</span>amd64<span class=\"token operator\">-</span>linux<span class=\"token punctuation\">.</span>so<span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span>    by <span class=\"token number\">0x1086FB</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q6<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span>  Block was alloc'd at\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x4C31B0F</span><span class=\"token operator\">:</span> <span class=\"token function\">malloc</span> <span class=\"token punctuation\">(</span>in <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>valgrind<span class=\"token operator\">/</span>vgpreload_memcheck<span class=\"token operator\">-</span>amd64<span class=\"token operator\">-</span>linux<span class=\"token punctuation\">.</span>so<span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span>    by <span class=\"token number\">0x1086EB</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q6<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> \r\ndata<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> HEAP SUMMARY<span class=\"token operator\">:</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span>     in use at exit<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span>   total heap usage<span class=\"token operator\">:</span> <span class=\"token number\">2</span> allocs<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span> frees<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">124</span> bytes allocated\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> All heap blocks were freed <span class=\"token operator\">--</span> no leaks are possible\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> For counts of detected and suppressed errors<span class=\"token punctuation\">,</span> rerun with<span class=\"token operator\">:</span> <span class=\"token operator\">-</span>v\r\n<span class=\"token operator\">==</span><span class=\"token number\">21293</span><span class=\"token operator\">==</span> ERROR SUMMARY<span class=\"token operator\">:</span> <span class=\"token number\">1</span> errors from <span class=\"token number\">1</span> <span class=\"token function\">contexts</span> <span class=\"token punctuation\">(</span>suppressed<span class=\"token operator\">:</span> <span class=\"token number\">0</span> from <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4 id=\"7-now-pass-a-funny-value-to-free-eg-a-pointer-in-the-middle-of-the-array-you-allocated-above\" style=\"position:relative;\"><a href=\"#7-now-pass-a-funny-value-to-free-eg-a-pointer-in-the-middle-of-the-array-you-allocated-above\" aria-label=\"7 now pass a funny value to free eg a pointer in the middle of the array you allocated above permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. Now pass a funny value to free (e.g., a pointer in the middle of the array you allocated above).</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\r\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span>\r\n\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">int</span><span class=\"token operator\">*</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token function\">malloc</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">free</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>What happens? Do you need tools to find this type of problem?<br>\nìš°ì„  í•´ë‹¹ ì½”ë“œë¥¼ ì»´íŒŒì¼ í›„ ì‹¤í–‰í•  ì‹œ ì•„ë˜ ì¶œë ¥ê³¼ ê°™ì´ <code class=\"language-text\">free(): invalid pointer, Aborted (core dumped)</code> ì˜¤ë¥˜ê°€ ì¶œë ¥ëœë‹¤. í•´ë‹¹ ë¶€ë¶„ì„ í†µí•´ free()í•¨ìˆ˜ì— ì˜ëª»ëœ í¬ì¸í„°ê°€ ì „ë‹¬ë˜ì–´ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ gcc <span class=\"token operator\">-</span>g <span class=\"token operator\">-</span>o q7 q7<span class=\"token punctuation\">.</span>c\r\n<span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ q7\r\n<span class=\"token function\">free</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> invalid pointer\r\n<span class=\"token function\">Aborted</span> <span class=\"token punctuation\">(</span>core dumped<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Valgrindë¥¼ ì‹¤í–‰ì‹œì¼œ ë³´ë©´ ì•„ë˜ ê°™ì´ ì˜¤ë¥˜ê°€ ì¶œë ¥ëœë‹¤. Invalid free() / delete / delete[] / realloc() ë¼ê³  ì˜¤ë¥˜ ì´ìœ ë¥¼ ì•Œë ¤ì£¼ë©°, <code class=\"language-text\">Address 0x522f05c is 28 bytes inside a block of size 100 alloc'd</code> ì™€ ê°™ì´ free()í•˜ë ¤ê³  í•œ ì£¼ì†Œ &#x26;data[7]ê°€ ì´ 100 ì‚¬ì´ì¦ˆì˜ ë¸”ë¡ ì¤‘ 28 (4*7)ì— í•´ë‹¹í•˜ëŠ” ì£¼ì†Œì„ì„ ì•Œë ¤ì¤€ë‹¤. ë˜í•œ 100 bytes in 1 blocks are definitely lost in loss record 1 of 1 ë¡œ í•´ì œë˜ì§€ ëª»í•œ ë©”ëª¨ë¦¬ë„ ì•Œë ¤ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ valgrind <span class=\"token operator\">--</span>leak<span class=\"token operator\">-</span>check<span class=\"token operator\">=</span>yes q7\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> Memcheck<span class=\"token punctuation\">,</span> a memory error detector\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> <span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2002</span><span class=\"token operator\">-</span><span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> and GNU GPL'd<span class=\"token punctuation\">,</span> by Julian Seward et al<span class=\"token punctuation\">.</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> Using Valgrind<span class=\"token operator\">-</span><span class=\"token number\">3.13</span><span class=\"token number\">.0</span> and LibVEX<span class=\"token punctuation\">;</span> rerun with <span class=\"token operator\">-</span>h <span class=\"token keyword\">for</span> copyright info\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> Command<span class=\"token operator\">:</span> q7\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> Invalid <span class=\"token function\">free</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> delete <span class=\"token operator\">/</span> delete<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> <span class=\"token function\">realloc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x4C32D3B</span><span class=\"token operator\">:</span> <span class=\"token function\">free</span> <span class=\"token punctuation\">(</span>in <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>valgrind<span class=\"token operator\">/</span>vgpreload_memcheck<span class=\"token operator\">-</span>amd64<span class=\"token operator\">-</span>linux<span class=\"token punctuation\">.</span>so<span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>    by <span class=\"token number\">0x1086AF</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q7<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>  Address <span class=\"token number\">0x522f05c</span> is <span class=\"token number\">28</span> bytes inside a block of size <span class=\"token number\">100</span> alloc'd\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x4C31B0F</span><span class=\"token operator\">:</span> <span class=\"token function\">malloc</span> <span class=\"token punctuation\">(</span>in <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>valgrind<span class=\"token operator\">/</span>vgpreload_memcheck<span class=\"token operator\">-</span>amd64<span class=\"token operator\">-</span>linux<span class=\"token punctuation\">.</span>so<span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>    by <span class=\"token number\">0x10869B</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q7<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> HEAP SUMMARY<span class=\"token operator\">:</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>     in use at exit<span class=\"token operator\">:</span> <span class=\"token number\">100</span> bytes in <span class=\"token number\">1</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>   total heap usage<span class=\"token operator\">:</span> <span class=\"token number\">1</span> allocs<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> frees<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span> bytes allocated\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> <span class=\"token number\">100</span> bytes in <span class=\"token number\">1</span> blocks are definitely lost in loss record <span class=\"token number\">1</span> of <span class=\"token number\">1</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x4C31B0F</span><span class=\"token operator\">:</span> <span class=\"token function\">malloc</span> <span class=\"token punctuation\">(</span>in <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>valgrind<span class=\"token operator\">/</span>vgpreload_memcheck<span class=\"token operator\">-</span>amd64<span class=\"token operator\">-</span>linux<span class=\"token punctuation\">.</span>so<span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>    by <span class=\"token number\">0x10869B</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q7<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> LEAK SUMMARY<span class=\"token operator\">:</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>    definitely lost<span class=\"token operator\">:</span> <span class=\"token number\">100</span> bytes in <span class=\"token number\">1</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>    indirectly lost<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>      possibly lost<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>    still reachable<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span>         suppressed<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> For counts of detected and suppressed errors<span class=\"token punctuation\">,</span> rerun with<span class=\"token operator\">:</span> <span class=\"token operator\">-</span>v\r\n<span class=\"token operator\">==</span><span class=\"token number\">6234</span><span class=\"token operator\">==</span> ERROR SUMMARY<span class=\"token operator\">:</span> <span class=\"token number\">2</span> errors from <span class=\"token number\">2</span> <span class=\"token function\">contexts</span> <span class=\"token punctuation\">(</span>suppressed<span class=\"token operator\">:</span> <span class=\"token number\">0</span> from <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4 id=\"8-try-out-some-of-the-other-interfaces-to-memory-allocation-for-example-create-a-simple-vector-like-data-structure-and-related-routines-that-use-realloc-to-manage-the-vector-use-an-array-to-store-the-vectors-elements-when-a-user-adds-an-entry-to-the-vector-use-realloc-to-allocate-more-space-for-it\" style=\"position:relative;\"><a href=\"#8-try-out-some-of-the-other-interfaces-to-memory-allocation-for-example-create-a-simple-vector-like-data-structure-and-related-routines-that-use-realloc-to-manage-the-vector-use-an-array-to-store-the-vectors-elements-when-a-user-adds-an-entry-to-the-vector-use-realloc-to-allocate-more-space-for-it\" aria-label=\"8 try out some of the other interfaces to memory allocation for example create a simple vector like data structure and related routines that use realloc to manage the vector use an array to store the vectors elements when a user adds an entry to the vector use realloc to allocate more space for it permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8. Try out some of the other interfaces to memory allocation. For example, create a simple vector-like data structure and related routines that use realloc() to manage the vector. Use an array to store the vectors elements; when a user adds an entry to the vector, use realloc() to allocate more space for it.</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\r\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span>\r\n\r\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">my_vector</span>\r\n<span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">int</span> max_size<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">int</span> now_size<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">int</span><span class=\"token operator\">*</span> data<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">void</span> <span class=\"token function\">my_vector_show</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">my_vector</span><span class=\"token operator\">*</span> v<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"now vector: \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>v<span class=\"token operator\">-></span>now_size<span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%d \"</span><span class=\"token punctuation\">,</span>v<span class=\"token operator\">-></span>data<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">my_vector_at</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">my_vector</span><span class=\"token operator\">*</span> v<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> index<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>v<span class=\"token operator\">-></span>now_size<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"wrong index\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">int</span> result <span class=\"token operator\">=</span> v<span class=\"token operator\">-></span>data<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"vector at [%d] is: %d\\n\"</span><span class=\"token punctuation\">,</span>index<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">void</span> <span class=\"token function\">my_vector_push_back</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">my_vector</span><span class=\"token operator\">*</span> v<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"push_back %d \\n\"</span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v<span class=\"token operator\">-></span>now_size <span class=\"token operator\">==</span> v<span class=\"token operator\">-></span>max_size<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"vector is full. make space by realloc ... \\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        v<span class=\"token operator\">-></span>max_size <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> v<span class=\"token operator\">-></span>now_size<span class=\"token punctuation\">;</span>\r\n        v<span class=\"token operator\">-></span>data <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token function\">realloc</span><span class=\"token punctuation\">(</span>v<span class=\"token operator\">-></span>data<span class=\"token punctuation\">,</span> v<span class=\"token operator\">-></span>max_size <span class=\"token operator\">*</span> <span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    v<span class=\"token operator\">-></span>data<span class=\"token punctuation\">[</span>v<span class=\"token operator\">-></span>now_size<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\r\n    v<span class=\"token operator\">-></span>now_size <span class=\"token operator\">=</span> v<span class=\"token operator\">-></span>now_size <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">my_vector_pop_back</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">my_vector</span><span class=\"token operator\">*</span> v<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">int</span> result <span class=\"token operator\">=</span> v<span class=\"token operator\">-></span>data<span class=\"token punctuation\">[</span>v<span class=\"token operator\">-></span>now_size<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    v<span class=\"token operator\">-></span>data<span class=\"token punctuation\">[</span>v<span class=\"token operator\">-></span>now_size<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    v<span class=\"token operator\">-></span>now_size <span class=\"token operator\">=</span> v<span class=\"token operator\">-></span>now_size <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pop_back %d \\n\"</span><span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">void</span> <span class=\"token function\">my_vector_free</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">my_vector</span><span class=\"token operator\">*</span> v<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"free vector!\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    v<span class=\"token operator\">-></span>max_size <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    v<span class=\"token operator\">-></span>now_size <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">free</span><span class=\"token punctuation\">(</span>v<span class=\"token operator\">-></span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">my_vector</span> v <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token function\">malloc</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_push_back</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_push_back</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_show</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_push_back</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_push_back</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_at</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_pop_back</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_pop_back</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_show</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_free</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">my_vector_show</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>How well does such a vector perform?<br>\nìœ„ì˜ ì½”ë“œì—ì„  my_vector structë¥¼ ì •ì˜í•˜ê³  í•´ë‹¹í•˜ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤. <code class=\"language-text\">my_vector_show()</code>ëŠ” í˜„ì¬ ë²¡í„°ì˜ ì›ì†Œë¥¼ ë³´ì—¬ì£¼ë©°, <code class=\"language-text\">my_vector_at()</code>ì€ íŠ¹ì • ì¸ë±ìŠ¤ì˜ ê°’ì„ ë¦¬í„´ í•œë‹¤.<code class=\"language-text\">my_vector_push_back()</code>ê³¼ <code class=\"language-text\">my_vector_pop_back()</code>ì€ ê°ê° ë²¡í„°ì˜ ë§¨ ë’¤ì—ì„œ ê°’ì„ ë„£ê³  ì‚­ì œí•˜ëŠ” ì—­í• ì„ í•œë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ my_vector_free()ëŠ” ë²¡í„°ì˜ ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•˜ëŠ” ì—­í• ì„ í•œë‹¤.<br>\n<code class=\"language-text\">Main()</code> í•¨ìˆ˜ì—ì„œëŠ” ìµœì´ˆì˜ ë²¡í„°ë¥¼ <code class=\"language-text\">struct my_vector v = {2, 0, (int*)malloc(sizeof(int)*2)};</code> ê³¼ ê°™ì´ ì„¤ì •í•˜ê³ , ì´ì–´ì„œ push, pop ë“±ì„ ì§„í–‰í•œë‹¤. ì´ë•Œ ê¸°ì¡´ì˜ size 2ë¥¼ ë„˜ì–´ì„¤ ê²½ìš° vector is full. make space by realloc â€¦ ë¬¸êµ¬ì™€ í•¨ê»˜ <code class=\"language-text\">realloc()</code> ì¬í• ë‹¹ì´ ë˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ gcc <span class=\"token operator\">-</span>g <span class=\"token operator\">-</span>o q8 q8<span class=\"token punctuation\">.</span>c\r\n<span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ q8\r\npush_back <span class=\"token number\">1</span> \r\npush_back <span class=\"token number\">2</span> \r\nnow vector<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> \r\npush_back <span class=\"token number\">3</span> \r\nvector is full<span class=\"token punctuation\">.</span> make space by realloc <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> \r\npush_back <span class=\"token number\">4</span> \r\nvector at <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> is<span class=\"token operator\">:</span> <span class=\"token number\">1</span>\r\npop_back <span class=\"token number\">4</span> \r\npop_back <span class=\"token number\">3</span> \r\nnow vector<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> \r\nfree vector<span class=\"token operator\">!</span>\r\nnow vector<span class=\"token operator\">:</span></code></pre></div>\n<p>How does it compare to a linked list?<br>\nlinked listì— ë¹„í•´ ì§ì ‘ ë§Œë“ vectorê°€ ê°€ì§€ëŠ” ì¥ì ì€ ê¸°ë³¸ì ìœ¼ë¡œ ë°°ì—´ì„ í™œìš©í•˜ê¸° ë•Œë¬¸ì— ë¹ ë¥¸ ì†ë„ë¡œ ì¸ë±ìŠ¤ì— ëŒ€í•œ ê°’ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ë‹¤. ë‹¤ë§Œ, ë‹¨ì ì˜ ê²½ìš° linked listëŠ” ì¤‘ê°„ì— ì‚½ì…ì„ í•  ë•Œ ìƒˆë¡œìš´ nodeì— linkë¥¼ í• ë‹¹í•´ ì£¼ê¸°ë§Œ í•˜ë©´ ë˜ì§€ë§Œ, vectorëŠ” ëª¨ë“  ê°’ë“¤ì„ í•˜ë‚˜ì”© ë°€ì–´ì•¼ í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ì—¬ ìƒëŒ€ì ìœ¼ë¡œ ì†ë„ê°€ ëŠë¦¬ë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ vectorëŠ” ê¸°ì¡´ì˜ í¬ê¸° ì¬ì„¤ì •ì´ ë¶ˆê°€ëŠ¥í–ˆë˜ ë°°ì—´ê³¼ ë‹¤ë¥´ê²Œlinked listì²˜ëŸ¼ í•„ìš”í•  ë•Œ ë§ˆë‹¤ ê·¸ í¬ê¸°ë¥¼ ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.</p>\n<p>Use valgrind to help you find bugs.<br>\nì²˜ìŒ ì½”ë“œë¥¼ ì‘ì„±í–ˆì„ ë•ŒëŠ”, ì•„ë˜ì˜ ì²«ë²ˆì§¸ valgrind ì¶œë ¥ì²˜ëŸ¼ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤. ê·¸ ì´ìœ ë¥¼ í™•ì¸í•´ë³´ë‹ˆ my_vector_pop_back() í•¨ìˆ˜ì—ì„œ v->data[v->now_size] = 0; ì½”ë“œì—ì„œ ë²„ê·¸ê°€ ë°œìƒí•˜ì˜€ë‹¤. [now_size] ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼í•˜ë©´ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” í¬ê¸°ë³´ë‹¤ ë” í°, ì¦‰ reallocì—ì„œ í• ë‹¹í•˜ì§€ ì•Šì€ ë¶€ë¶„ê¹Œì§€ ì¨ë²„ë¦°ë‹¤. ê·¸ë˜ì„œ valgrind ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë˜ ê²ƒì´ë‹¤. ì´ë¥¼ v->data[v->now_size-1] = 0; ë¡œ ê³ ì¹˜ê³  ë‚˜ë‹ˆ ë‘ë²ˆì§¸ valgrind ì¶œë ¥ì²˜ëŸ¼ ì˜¤ë¥˜ë¬¸êµ¬ê°€ ì¶œë ¥ë˜ì§€ ì•Šì•˜ë‹¤.<br>\n<br>\nê³ ì¹˜ê¸° ì „:</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ valgrind <span class=\"token operator\">--</span>leak<span class=\"token operator\">-</span>check<span class=\"token operator\">=</span>yes q8\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> Memcheck<span class=\"token punctuation\">,</span> a memory error detector\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> <span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2002</span><span class=\"token operator\">-</span><span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> and GNU GPL'd<span class=\"token punctuation\">,</span> by Julian Seward et al<span class=\"token punctuation\">.</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> Using Valgrind<span class=\"token operator\">-</span><span class=\"token number\">3.13</span><span class=\"token number\">.0</span> and LibVEX<span class=\"token punctuation\">;</span> rerun with <span class=\"token operator\">-</span>h <span class=\"token keyword\">for</span> copyright info\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> Command<span class=\"token operator\">:</span> q8\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> \r\npush_back <span class=\"token number\">1</span> \r\npush_back <span class=\"token number\">2</span> \r\nnow vector<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> \r\npush_back <span class=\"token number\">3</span> \r\nvector is full<span class=\"token punctuation\">.</span> make space by realloc <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> \r\npush_back <span class=\"token number\">4</span> \r\nvector at <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> is<span class=\"token operator\">:</span> <span class=\"token number\">1</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> Invalid write of size <span class=\"token number\">4</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x1089EC</span><span class=\"token operator\">:</span> <span class=\"token function\">my_vector_pop_back</span> <span class=\"token punctuation\">(</span>q8<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">43</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span>    by <span class=\"token number\">0x108AFD</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q8<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">65</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span>  Address <span class=\"token number\">0x522f4e0</span> is <span class=\"token number\">0</span> bytes after a block of size <span class=\"token number\">16</span> alloc'd\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span>    at <span class=\"token number\">0x4C33D2F</span><span class=\"token operator\">:</span> <span class=\"token function\">realloc</span> <span class=\"token punctuation\">(</span>in <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>valgrind<span class=\"token operator\">/</span>vgpreload_memcheck<span class=\"token operator\">-</span>amd64<span class=\"token operator\">-</span>linux<span class=\"token punctuation\">.</span>so<span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span>    by <span class=\"token number\">0x10896A</span><span class=\"token operator\">:</span> <span class=\"token function\">my_vector_push_back</span> <span class=\"token punctuation\">(</span>q8<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">35</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span>    by <span class=\"token number\">0x108ACF</span><span class=\"token operator\">:</span> <span class=\"token function\">main</span> <span class=\"token punctuation\">(</span>q8<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">62</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> \r\npop_back <span class=\"token number\">4</span> \r\npop_back <span class=\"token number\">3</span> \r\nnow vector<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> \r\nfree vector<span class=\"token operator\">!</span>\r\nnow vector<span class=\"token operator\">:</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> HEAP SUMMARY<span class=\"token operator\">:</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span>     in use at exit<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span>   total heap usage<span class=\"token operator\">:</span> <span class=\"token number\">3</span> allocs<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span> frees<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">048</span> bytes allocated\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> All heap blocks were freed <span class=\"token operator\">--</span> no leaks are possible\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> For counts of detected and suppressed errors<span class=\"token punctuation\">,</span> rerun with<span class=\"token operator\">:</span> <span class=\"token operator\">-</span>v\r\n<span class=\"token operator\">==</span><span class=\"token number\">22122</span><span class=\"token operator\">==</span> ERROR SUMMARY<span class=\"token operator\">:</span> <span class=\"token number\">1</span> errors from <span class=\"token number\">1</span> <span class=\"token function\">contexts</span> <span class=\"token punctuation\">(</span>suppressed<span class=\"token operator\">:</span> <span class=\"token number\">0</span> from <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê³ ì¹œ í›„:</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">2019312219</span>@swji<span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token operator\">/</span>hw<span class=\"token operator\">/</span><span class=\"token number\">2</span>$ valgrind <span class=\"token operator\">--</span>leak<span class=\"token operator\">-</span>check<span class=\"token operator\">=</span>yes q8\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> Memcheck<span class=\"token punctuation\">,</span> a memory error detector\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> <span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2002</span><span class=\"token operator\">-</span><span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> and GNU GPL'd<span class=\"token punctuation\">,</span> by Julian Seward et al<span class=\"token punctuation\">.</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> Using Valgrind<span class=\"token operator\">-</span><span class=\"token number\">3.13</span><span class=\"token number\">.0</span> and LibVEX<span class=\"token punctuation\">;</span> rerun with <span class=\"token operator\">-</span>h <span class=\"token keyword\">for</span> copyright info\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> Command<span class=\"token operator\">:</span> q8\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> \r\npush_back <span class=\"token number\">1</span> \r\npush_back <span class=\"token number\">2</span> \r\nnow vector<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> \r\npush_back <span class=\"token number\">3</span> \r\nvector is full<span class=\"token punctuation\">.</span> make space by realloc <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> \r\npush_back <span class=\"token number\">4</span> \r\nvector at <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> is<span class=\"token operator\">:</span> <span class=\"token number\">1</span>\r\npop_back <span class=\"token number\">4</span> \r\npop_back <span class=\"token number\">3</span> \r\nnow vector<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> \r\nfree vector<span class=\"token operator\">!</span>\r\nnow vector<span class=\"token operator\">:</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> HEAP SUMMARY<span class=\"token operator\">:</span>\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span>     in use at exit<span class=\"token operator\">:</span> <span class=\"token number\">0</span> bytes in <span class=\"token number\">0</span> blocks\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span>   total heap usage<span class=\"token operator\">:</span> <span class=\"token number\">3</span> allocs<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span> frees<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">048</span> bytes allocated\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> All heap blocks were freed <span class=\"token operator\">--</span> no leaks are possible\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> \r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> For counts of detected and suppressed errors<span class=\"token punctuation\">,</span> rerun with<span class=\"token operator\">:</span> <span class=\"token operator\">-</span>v\r\n<span class=\"token operator\">==</span><span class=\"token number\">22318</span><span class=\"token operator\">==</span> ERROR SUMMARY<span class=\"token operator\">:</span> <span class=\"token number\">0</span> errors from <span class=\"token number\">0</span> <span class=\"token function\">contexts</span> <span class=\"token punctuation\">(</span>suppressed<span class=\"token operator\">:</span> <span class=\"token number\">0</span> from <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4 id=\"9-spendmore-time-and-read-about-using-gdb-and-valgrind-knowing-your-tools-is-critical-spend-the-time-and-learn-how-to-become-an-expert-debugger-in-the-unix-and-c-environment\" style=\"position:relative;\"><a href=\"#9-spendmore-time-and-read-about-using-gdb-and-valgrind-knowing-your-tools-is-critical-spend-the-time-and-learn-how-to-become-an-expert-debugger-in-the-unix-and-c-environment\" aria-label=\"9 spendmore time and read about using gdb and valgrind knowing your tools is critical spend the time and learn how to become an expert debugger in the unix and c environment permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9. Spendmore time and read about using gdb and valgrind. Knowing your tools is critical; spend the time and learn how to become an expert debugger in the UNIX and C environment.</h4>\n<p>ì•ì„  ë¬¸ì œë¥¼ í†µí•´ ì•Œ ìˆ˜ ìˆë“¯ì´, ë©”ëª¨ë¦¬ ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œì¼ì§€ë¼ë„ ì¼ë°˜ì ì¸ ì‹¤í–‰ì„ í†µí•´ì„œëŠ” ê·¸ ë¬¸ì œë¥¼ íŒŒì•…í•˜ê¸°ê°€ ì‰½ì§€ ì•Šì•˜ë‹¤. ê·¸ëŸ¬ë‚˜ ì‹¤í–‰ ì‹œ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ”ë‹¤ê³  ì´ë¥¼ ë°©ì¹˜í•˜ë©´ ë‚˜ì¤‘ì— ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ì™€ ê°™ì€ ë¬¸ì œê°€ ìƒê¸°ê²Œ ëœë‹¤. ë”°ë¼ì„œ gdb, valgrind ê°™ì€ íˆ´ì„ í†µí•´ ìì‹ ì˜ í”„ë¡œê·¸ë¨ì— ëŒ€í•œ ë””ë²„ê¹…ì„ ì¶©ë¶„íˆ í•´ë‚˜ ê°ˆìˆ˜ ìˆë„ë¡ ë…¸ë ¥ì´ í•„ìš”í•¨ì„ ê¹¨ë‹«ëŠ” ê³„ê¸°ê°€ ë˜ì—ˆë‹¤.</p>\n<h2 id=\"source\" style=\"position:relative;\"><a href=\"#source\" aria-label=\"source permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source</h2>\n<ul>\n<li>ã€Operating Systems: Three Easy Piecesã€ <em>-Remzi H. Arpaci-Dusseau ì§€ìŒ</em><br>\n<a href=\"https://pages.cs.wisc.edu/~remzi/OSTEP/\" target=\"_blank\" rel=\"nofollow\">https://pages.cs.wisc.edu/~remzi/OSTEP/</a></li>\n</ul>","id":"7234b75d-7fd4-5f1e-9a6a-c150fb7dce90","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%AC%B8%EC%A0%9C-%EB%B0%8F-%ED%92%80%EC%9D%B4\">ë¬¸ì œ ë° í’€ì´</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#1-first-write-a-simple-program-called-nullc-that-creates-a-pointer-to-an-integer-sets-it-to-null-and-then-tries-to-dereference-it-compile-this-into-an-executable-called-null\">1. First, write a simple program called null.c that creates a pointer to an integer, sets it to NULL, and then tries to dereference it. Compile this into an executable called null.</a></li>\n<li><a href=\"#2-next-compile-this-program-with-symbol-information-included-with-the--g-flag-doing-so-lets-put-more-information-into-the-executable-enabling-the-debugger-to-access-more-useful-information-about-variable-names-and-the-like-run-the-program-under-the-debugger-by-typing-gdb-null-and-then-once-gdb-is-running-typing-run\">2. Next, compile this program with symbol information included (with the -g flag). Doing so letâ€™s put more information into the executable, enabling the debugger to access more useful information about variable names and the like. Run the program under the debugger by typing gdb null and then, once gdb is running, typing run.</a></li>\n<li><a href=\"#3-finally-use-the-valgrind-tool-on-this-program-well-use-the-memcheck-tool-that-is-a-part-of-valgrind-to-analyze-what-happens-run-this-by-typing-in-the-following-valgrind---leak-checkyes-null\">3. Finally, use the valgrind tool on this program. Weâ€™ll use the memcheck tool that is a part of valgrind to analyze what happens. Run this by typing in the following: valgrind â€“leak-check=yes null.</a></li>\n<li><a href=\"#4-write-a-simple-program--that-allocates-memory-using-malloc-but-forgets-to-free-it-before-exiting\">4. Write a simple program  that allocates memory using malloc() but forgets to free it before exiting.</a></li>\n<li><a href=\"#5-write-a-program-that-creates-an-array-of-integers-called-data-of-size-100-using-malloc-then-set-data100-to-zero\">5. Write a program that creates an array of integers called data of size 100 using malloc; then, set data[100] to zero.</a></li>\n<li><a href=\"#6-create-a-program-that-allocates-an-array-of-integers-as-above-frees-them-and-then-tries-to-print-the-value-of-one-of-the-elements-of-the-array\">6. Create a program that allocates an array of integers (as above), frees them, and then tries to print the value of one of the elements of the array.</a></li>\n<li><a href=\"#7-now-pass-a-funny-value-to-free-eg-a-pointer-in-the-middle-of-the-array-you-allocated-above\">7. Now pass a funny value to free (e.g., a pointer in the middle of the array you allocated above).</a></li>\n<li><a href=\"#8-try-out-some-of-the-other-interfaces-to-memory-allocation-for-example-create-a-simple-vector-like-data-structure-and-related-routines-that-use-realloc-to-manage-the-vector-use-an-array-to-store-the-vectors-elements-when-a-user-adds-an-entry-to-the-vector-use-realloc-to-allocate-more-space-for-it\">8. Try out some of the other interfaces to memory allocation. For example, create a simple vector-like data structure and related routines that use realloc() to manage the vector. Use an array to store the vectors elements; when a user adds an entry to the vector, use realloc() to allocate more space for it.</a></li>\n<li><a href=\"#9-spendmore-time-and-read-about-using-gdb-and-valgrind-knowing-your-tools-is-critical-spend-the-time-and-learn-how-to-become-an-expert-debugger-in-the-unix-and-c-environment\">9. Spendmore time and read about using gdb and valgrind. Knowing your tools is critical; spend the time and learn how to become an expert debugger in the UNIX and C environment.</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#source\">Source</a></p>\n</li>\n</ul>","frontmatter":{"title":"OS: Three Easy Pieces [Remzi] <14.Debugging Memory> í’€ì´","summary":"êµì¬ Operating Systems: Three Easy Pieces [Remzi] ì† Homework ë¬¸ì œ í’€ì´","date":"2023.08.21.","categories":["OS"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABESAAAREgEAwpvaAAABrklEQVQozzWSPa/qMAyG08RN4iRNvxADGwL1qiBoqaAduiAhMfADGEAV450Y2BD8+atTn/sMUeTYsvO+ZlEUOeeUUgCgtZZSGmMQ0VqrlPLex3EMAFEUAQAiAoBSii5MSqlG4ji21mZZhohJkiBilmXWWmNMFEVCCMr03mutAUBKyYQQnPMgCIQQv6ERzrmUEgAoQY4EQcAYU0pxzn87c86ttcfjcbvdFkWxXq/7vu+6bj6fV1V1Op2apun7vqqqpmkWiwVNEYYhc85xzrMsu9/v7/d7GIbb7fZ6vYZh+H6/5/P58/n8HXk+n4/H43q9MsZghGmtnXPee6VUnueHw6Esy9Vqtd/v+74vy7Jt2z8jk8lECEFyIqIQgiEi1ZPaZVnWdb3ZbOq67rpuvV4XRbHb7dq2nc1mxhgSIk1T5xwjqYMgoAt9hoQVQmithRD0pLXO89w5J6X8LQYAspROmsI5lyQJ+a+1NsZQkAy31iKiMebHKkQk6eM4FiNku9Y6DEP/H5rZWhtFUZqmy+XypzNV0pIBQBiGAOC9R0SayHtP24KI0+m0LMumaS6Xyz8ykDVBPPlfZQAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/5e3e112afb9c9c7bd4c291006dba33a4/3739d/book2.png","srcSet":"/static/5e3e112afb9c9c7bd4c291006dba33a4/da853/book2.png 141w,\n/static/5e3e112afb9c9c7bd4c291006dba33a4/9f0de/book2.png 283w,\n/static/5e3e112afb9c9c7bd4c291006dba33a4/3739d/book2.png 565w","sizes":"(min-width: 565px) 565px, 100vw"},"sources":[{"srcSet":"/static/5e3e112afb9c9c7bd4c291006dba33a4/cdf2b/book2.webp 141w,\n/static/5e3e112afb9c9c7bd4c291006dba33a4/d9fe4/book2.webp 283w,\n/static/5e3e112afb9c9c7bd4c291006dba33a4/8b8b9/book2.webp 565w","type":"image/webp","sizes":"(min-width: 565px) 565px, 100vw"}]},"width":565,"height":306}},"publicURL":"/static/5e3e112afb9c9c7bd4c291006dba33a4/book2.png"}}}}]}},"pageContext":{"slug":"/os_hw_2/"}},"staticQueryHashes":[]}