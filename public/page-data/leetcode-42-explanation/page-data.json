{"componentChunkName":"component---src-templates-post-template-tsx","path":"/leetcode-42-explanation/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2 id=\"1-문제-확인\" style=\"position:relative;\"><a href=\"#1-%EB%AC%B8%EC%A0%9C-%ED%99%95%EC%9D%B8\" aria-label=\"1 문제 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 문제 확인</h2>\n<p><a href=\"https://leetcode.com/problems/trapping-rain-water/\" target=\"_blank\" rel=\"nofollow\">42. Trapping Rain Water</a>\n<br>\n<strong>빗물 트래핑</strong> 문제입니다. 일련의 높이가 주어진 리스트를 벽처럼 생각하여 <strong>쌓인 물</strong>을 계산합니다.<br>\nLeetcode에 hard로 소개되어 있습니다. <del>제가 처음에 못 풀어서 hard라고 한 거 아닙니다</del></p>\n<h2 id=\"2-코드\" style=\"position:relative;\"><a href=\"#2-%EC%BD%94%EB%93%9C\" aria-label=\"2 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 코드</h2>\n<p><strong>코드 1</strong><br>\n처리시간 - Time Limit Exceeded</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">trap</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">:</span>\n\n        <span class=\"token keyword\">def</span> <span class=\"token function\">get_trap_range</span><span class=\"token punctuation\">(</span>current_index<span class=\"token punctuation\">,</span> current_height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> current_height <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n            <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>current_index<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">if</span> height<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> current_height<span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">return</span> i<span class=\"token operator\">-</span><span class=\"token punctuation\">(</span>current_index<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n\n        idx <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        rain <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n        <span class=\"token keyword\">while</span> idx <span class=\"token operator\">&lt;</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">for</span> h <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                trap_range <span class=\"token operator\">=</span> get_trap_range<span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">,</span> h<span class=\"token punctuation\">)</span>\n                rain <span class=\"token operator\">+=</span> trap_range\n            idx <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n            \n        <span class=\"token keyword\">return</span> rain</code></pre></div>\n<p><br>\n<strong>코드 2 (개선)</strong><br>\n처리시간 214ms</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">trap</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">:</span>\n\n        <span class=\"token keyword\">def</span> <span class=\"token function\">get_left_side</span><span class=\"token punctuation\">(</span>heights<span class=\"token punctuation\">,</span> max_index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            rain <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n            left_max <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n            <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> max_index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">if</span> heights<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> left_max<span class=\"token punctuation\">:</span>\n                    left_max <span class=\"token operator\">=</span> heights<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                    rain <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>left_max <span class=\"token operator\">-</span> heights<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> rain\n\n        total_rain <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        max_index <span class=\"token operator\">=</span> height<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">(</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        total_rain <span class=\"token operator\">+=</span> get_left_side<span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">,</span> max_index<span class=\"token punctuation\">)</span>\n        total_rain <span class=\"token operator\">+=</span> get_left_side<span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span>max_index<span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">return</span> total_rain</code></pre></div>\n<p><br>\n<strong>코드 3 (개선)</strong><br>\n처리시간 132ms</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">trap</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">:</span>\n        stack <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        volume <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">while</span> stack <span class=\"token keyword\">and</span> height<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> height<span class=\"token punctuation\">[</span>stack<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n                top <span class=\"token operator\">=</span> stack<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n                <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>stack<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">break</span>\n\n                distance <span class=\"token operator\">=</span> i <span class=\"token operator\">-</span> stack<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n                waters <span class=\"token operator\">=</span> <span class=\"token builtin\">min</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">[</span>stack<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> height<span class=\"token punctuation\">[</span>top<span class=\"token punctuation\">]</span>\n\n                volume <span class=\"token operator\">+=</span> distance <span class=\"token operator\">*</span> waters\n\n            stack<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> volume</code></pre></div>\n<h2 id=\"3-피드백\" style=\"position:relative;\"><a href=\"#3-%ED%94%BC%EB%93%9C%EB%B0%B1\" aria-label=\"3 피드백 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 피드백</h2>\n<p>우선 첫 번째로 짠 <strong>코드 1</strong>은 인덱스를 순회하며 각 높이마다 다음 지점까지의 물이 담긴 거리를 계산했습니다. 다만,  <strong>Time Limit Exceeded</strong> 로 테스트 케이스를 통과하지 못했습니다. 시간 복잡도가 O(n^2)이기 때문에 어느 정도 예상은 했지만, O(n) 방법을 생각하는 데는 시간이 좀 걸렸습니다.<br>\n<br>\n두 번째로 시도한 <strong>코드 2</strong>의 방법인 <strong>최댓값 포인터</strong>의 경우 시간 복잡도 O(n) 이내로 가능했습니다. 해당 풀이의 주요 아이디어는 다음과 같습니다.</p>\n<blockquote>\n<ol>\n<li><strong>가장 높은 지점</strong>을 찾는다.</li>\n<li>좌측부터 포인터를 통해 <strong>최댓값</strong>을 갱신해 나간다.</li>\n<li>좌측 <strong>최댓값</strong>과 <strong>현재 높이</strong>의 <strong>차이</strong> 만큼 빗물을 더한다.</li>\n<li>이를 가장 높은 지점까지 반복한다.</li>\n<li>뒤집어서 다시 한번 반복한다(우측도 구하기 위해).</li>\n</ol>\n</blockquote>\n<p>위의 방법이 가능한 이유를 그림으로 설명하면 다음과 같습니다. <del>직접 만드느라 힘들었습니다</del></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 412px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a0b5725179e8d2e8540134afe72860be/1f9f1/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.0625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABY0lEQVQoz31QPUhCURS+tFVL22szW/ohGgpJiBQioi1wa4mowSDaIunPanz6niDhZNkLtD8iCCKwIQKxhgqiIUfhqYvl4BLqe/d9cW++MNE++OCc7zvn3HMuKRQKKJfLYDAMA41Qq2uaxmnq9T0kk8mgVCr9aTQLG9EEpbShR7LZLCqVStMX66EoCmKxWNNLSC6X4wNZous6KDU4WU6pXtUoJ4MgCLBarTxmnq5r1VrKc76h+YcmHh+SGOjvgXs3Au9pCqvhJNaUJ2xGX9Fp6UV7WytGbMOY8wSxcfSMIZsd296tn5PZhgyqqiKRSED9/EIocgJCCPrGZzGxvI/pnRtMrRzDMS+hQ7Bwj7Hb7oJzQeKx0zGG91QKJJ1O84GLbjc3HEsHGHSt/zYR0oJJzyW6RmdqtH+Y/8ijWCwiHo9DFEWc374genUPye+DLEsI7oVwcfeGw7Nr+H0iAoEAZFluym8uhvSQPETI+wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a0b5725179e8d2e8540134afe72860be/a59e9/1.webp 192w,\n/static/a0b5725179e8d2e8540134afe72860be/0ca9f/1.webp 384w,\n/static/a0b5725179e8d2e8540134afe72860be/65760/1.webp 412w\"\n              sizes=\"(max-width: 412px) 100vw, 412px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a0b5725179e8d2e8540134afe72860be/3b721/1.png 192w,\n/static/a0b5725179e8d2e8540134afe72860be/66595/1.png 384w,\n/static/a0b5725179e8d2e8540134afe72860be/1f9f1/1.png 412w\"\n            sizes=\"(max-width: 412px) 100vw, 412px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a0b5725179e8d2e8540134afe72860be/1f9f1/1.png\"\n            alt=\"1\"\n            title=\"1\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 412px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7813fad06aae24e0a70e9a2ca684efdf/1f9f1/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.0625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABQUlEQVQY052PPUhCYRiFj1oEJtLaltXU0A94DRvKpYbW5oKmxqZIKEWqIQL9StBQcTCh0SWanKLlojgatZSDVwfLsKXu/X7eSIQIwaFnOPAeeDi8aLfblmXRQATngvP+HoZhmKZJ/wJ1wxiwrLpZSCcL6SQpqX67rtxo9GSlJJEkJUhZSnApOAmLS0HCnJ2enJvykPXJFXEuZBelFOr1niylIKKn8p1vfqZ04qNrTaQ1kdUor/k9rjGne21xYSsYD+XKXt9S6PCg97OU1Gw+VCo3RHqpGAEQX7e/7EJG0NzD4w68444RDLkAj39jefsMQCCwUq1WUavViCi4v2m34c1wlIsA4B7GhBsyiIvVn9NlgxMYRR+t11an86Hrt/mr0857rPEczSVi2UuWSbCv+1ipwFiUpY7DqaNw4pxF2R++AVK1WOeQk0BdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7813fad06aae24e0a70e9a2ca684efdf/a59e9/2.webp 192w,\n/static/7813fad06aae24e0a70e9a2ca684efdf/0ca9f/2.webp 384w,\n/static/7813fad06aae24e0a70e9a2ca684efdf/65760/2.webp 412w\"\n              sizes=\"(max-width: 412px) 100vw, 412px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7813fad06aae24e0a70e9a2ca684efdf/3b721/2.png 192w,\n/static/7813fad06aae24e0a70e9a2ca684efdf/66595/2.png 384w,\n/static/7813fad06aae24e0a70e9a2ca684efdf/1f9f1/2.png 412w\"\n            sizes=\"(max-width: 412px) 100vw, 412px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7813fad06aae24e0a70e9a2ca684efdf/1f9f1/2.png\"\n            alt=\"2\"\n            title=\"2\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>빨간색 기둥 (가장 높은 지점) 전까지 각 기둥과 그 사이의 물을 확인해보면 다음을 만족합니다.</p>\n<blockquote>\n<p>가장 높은 지점과 각 기둥들 사이에는 좌측 최댓값의 높이까지 항상 물이 차있다.</p>\n</blockquote>\n<p>노란색 기둥의 경우 노란색 부분의 물은 항상 높이 1을 유지하며, 주황색 기둥의 경우 주황생 부분의 물은 항상 높이 2를 유지합니다다. 따라서 리스트를 순회하며 <strong>좌측 최댓값 - 현재 높이</strong> 를 해주면 좌측에 쌓인 물의 양을 알 수 있습니다. (<em>위의 그림에서는 순서대로 1 + 1 + 2 + 1 입니다.</em>) 이후 이를 리스트를 뒤집어서 다시 한번 해주면 우측의 물의 양도 알 수가 있습니다. 단, 이때 가장 높은 지점이 2개인 경우 ex.)<code class=\"language-text\">[2, 0, 2]</code> 하나의 인덱스를 기준으로 뒤집어서 줄 필요가 있습니다. <code class=\"language-text\">get_left_side(height[::-1], len(height)-max_index)</code>. 왜냐하면 <code class=\"language-text\">.index()</code>함수는 항상 앞에서부터 인덱스를 찾기 때문입니다. 추가적으로 좌우에서 동시에 투 포인터를 이동시키는 방법도 책에 소개되어 있습니다.<br>\n<br>\n마지막으로 『파이썬 알고리즘 인터뷰』에서 소개된 <strong>코드 3</strong>의 경우 스택을 사용합니다. 현재의 높이가 이전의 높이보다 높을 때, 격차만큼 물 높이를 채우게 됩니다. 얼핏 보면 이중 반복문이라서 O(n^2)처럼 보이지만, 전체적으로는 한 번만 보게 되므로 O(n) 이내로 가능했습니다. 다만, 스택을 사용하는 코드 자체가 직관적으로 이해하기는 힘듭니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 412px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a0b5725179e8d2e8540134afe72860be/1f9f1/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.0625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABY0lEQVQoz31QPUhCURS+tFVL22szW/ohGgpJiBQioi1wa4mowSDaIunPanz6niDhZNkLtD8iCCKwIQKxhgqiIUfhqYvl4BLqe/d9cW++MNE++OCc7zvn3HMuKRQKKJfLYDAMA41Qq2uaxmnq9T0kk8mgVCr9aTQLG9EEpbShR7LZLCqVStMX66EoCmKxWNNLSC6X4wNZous6KDU4WU6pXtUoJ4MgCLBarTxmnq5r1VrKc76h+YcmHh+SGOjvgXs3Au9pCqvhJNaUJ2xGX9Fp6UV7WytGbMOY8wSxcfSMIZsd296tn5PZhgyqqiKRSED9/EIocgJCCPrGZzGxvI/pnRtMrRzDMS+hQ7Bwj7Hb7oJzQeKx0zGG91QKJJ1O84GLbjc3HEsHGHSt/zYR0oJJzyW6RmdqtH+Y/8ijWCwiHo9DFEWc374genUPye+DLEsI7oVwcfeGw7Nr+H0iAoEAZFluym8uhvSQPETI+wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a0b5725179e8d2e8540134afe72860be/a59e9/1.webp 192w,\n/static/a0b5725179e8d2e8540134afe72860be/0ca9f/1.webp 384w,\n/static/a0b5725179e8d2e8540134afe72860be/65760/1.webp 412w\"\n              sizes=\"(max-width: 412px) 100vw, 412px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a0b5725179e8d2e8540134afe72860be/3b721/1.png 192w,\n/static/a0b5725179e8d2e8540134afe72860be/66595/1.png 384w,\n/static/a0b5725179e8d2e8540134afe72860be/1f9f1/1.png 412w\"\n            sizes=\"(max-width: 412px) 100vw, 412px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a0b5725179e8d2e8540134afe72860be/1f9f1/1.png\"\n            alt=\"1\"\n            title=\"1\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 412px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9907e3b56238aadd2e473be9d2a63a31/1f9f1/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.0625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABX0lEQVQY02N49+7dr1+//uMFf/78/fvnL6Y4w9OnT3/+/PmfLMDw5OlTgjbPXzJ3yYqF//////f/H5iEaX72DKr537+//////ff/z7//H//8+wVCf3/+/ffr799PSlpKusZ6//////Hv34+//779+/sNrIHhyROo5j9///z//3/nue36Fupp500r/hvl/TbK+WdU81+/2I1D00JZL9RXa89hz68/yvxd86ZNh/r5799/79/dv3F93///5w8eqdKVZHBfzhRzi6H0GUPVbYbObYxGtgycBuJMChIMjV2ai5cxKCtbJCZfvniJ4cGDB////29pzmJmZnj1iPnaHAZHMQZZSQZlEYb/CxiOhDIYsjBwCTAwMDMgADs7AysbiPH6zeuPHz+dObVz8dKO7y/6H57rW7y8Y93SvrWL+/5d6Lu+vW/p3I6ZM7q6J3RP6O3r7+ub2NvbPXFi98SJE/r6AMYwXeyyymlPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/9907e3b56238aadd2e473be9d2a63a31/a59e9/3.webp 192w,\n/static/9907e3b56238aadd2e473be9d2a63a31/0ca9f/3.webp 384w,\n/static/9907e3b56238aadd2e473be9d2a63a31/65760/3.webp 412w\"\n              sizes=\"(max-width: 412px) 100vw, 412px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/9907e3b56238aadd2e473be9d2a63a31/3b721/3.png 192w,\n/static/9907e3b56238aadd2e473be9d2a63a31/66595/3.png 384w,\n/static/9907e3b56238aadd2e473be9d2a63a31/1f9f1/3.png 412w\"\n            sizes=\"(max-width: 412px) 100vw, 412px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/9907e3b56238aadd2e473be9d2a63a31/1f9f1/3.png\"\n            alt=\"3\"\n            title=\"3\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"4-요약정리\" style=\"position:relative;\"><a href=\"#4-%EC%9A%94%EC%95%BD%EC%A0%95%EB%A6%AC\" aria-label=\"4 요약정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 요약정리</h2>\n<p>문제에서 항상 만족하는 조건을 통해 <strong>반복할 필요가 없는 연산</strong>을 고민해보자. (시간 복잡도를 위해)<br>\nex.) 가장 높은 지점과 각 기둥들 사이에는 좌측 최댓값의 높이까지 항상 물이 차있다.</p>\n<p>혹은, 다른 자료구조 ex.) <strong>스택</strong> 등을 고민해보자.</p>\n<h2 id=\"source\" style=\"position:relative;\"><a href=\"#source\" aria-label=\"source permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source</h2>\n<ul>\n<li>『파이썬 알고리즘 인터뷰』 <em>-박상길 지음</em></li>\n<li>leetcode<br>\n<a href=\"https://leetcode.com/problems/trapping-rain-water/\" target=\"_blank\" rel=\"nofollow\">https://leetcode.com/problems/trapping-rain-water/</a></li>\n</ul>","id":"6afedbb6-c3d6-5298-ac35-918e5498c266","tableOfContents":"<ul>\n<li><a href=\"#1-%EB%AC%B8%EC%A0%9C-%ED%99%95%EC%9D%B8\">1. 문제 확인</a></li>\n<li><a href=\"#2-%EC%BD%94%EB%93%9C\">2. 코드</a></li>\n<li><a href=\"#3-%ED%94%BC%EB%93%9C%EB%B0%B1\">3. 피드백</a></li>\n<li><a href=\"#4-%EC%9A%94%EC%95%BD%EC%A0%95%EB%A6%AC\">4. 요약정리</a></li>\n<li><a href=\"#source\">Source</a></li>\n</ul>","frontmatter":{"title":"Leetcode 42번 풀이","summary":"Leetcode 42번 빗물 트래핑 문제 풀이, 시간 복잡도 O(n) 포인터 이동 및 스택","date":"2022.10.16.","categories":["Algorithm","Leetcode"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAACpklEQVQozyWSy0tUcRTHv+f8fvc393rn3nnqVcfmYeNo42OcSXTKwkQaEQa17MVEwThCariJqIgW00OtcNOiQAiloAJ7EEEPo4VQUIsogv6BNrZp1baFcYtz4Ky+33P4fA90prCkBo3iimyGYhAQVZStobhGSQ81KeQtfJlzfq3kxtpsDxCzZSVn3evS4HOVaNQooqHNQxKwgYgSCY/IKOQUGjUMO1p1KHA8XbNbh0O4P2jeGrQvRQX8kiIKAQkA1zvl+RYRZWRsLaNQNLnTUqWolrEEgJGw+Dxbez3rOReTBRNjNrl3auS2ALp8/GqPdsTG2V2RN5Op3QYmQtwXFEwwmfr8vLUx8HayNgV0GJxUBMdDLT6hAwYDhGET5VTN57ul6oHW4ebo9JFxAIaSFrA6s2Pr9+nNav1SK7XqVCeAFp8obFMaWLJrn/JQPqwW9vuqGWvx4oX5hfmepoadGp6cbPzz/dCPh/2Xc6I/yGEJkwEl4BisAC8QlAxgtCd8Z9x7uVI6Vjp+Zqq8Olv+cLX358rA2rGmISApSAEW/xPrDC9TADAINrNXyLk+X9LPIa+9OF1Zmjl1Mx38tJT+8yj7eDSYBhIGhwTq/ostwPsPG4BEnXFlNNZtUTFuHcq0XTlcvDZVuXGw8G42v/Wx9+XRQJYQ1igukRIIMjBZJ4RLCqbisXYzF9b8wPxgYmN9/duXr6+fPV17/mJ5prx5O70y4XQDjqKQQEzAYWBvyM0QQKpWj1tCAzq8fG0o0NgUy3e2D3S297Zt7xLqwQnn/XKXARiS6gUijBC5O90CKCDckbREKaJ2NijADZ+AZkaPxIgjV8adlCQPQSf4yWUERSSJUjrtM6kQkmvFwDYXBXRBOpNi6jW4aPKMj1abRT7sfqLk/3TxFxmUdPFW8MVoAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/1bbc24e380a98dd7f4db187c8609bb61/18404/leetcode_hard.png","srcSet":"/static/1bbc24e380a98dd7f4db187c8609bb61/b55cb/leetcode_hard.png 200w,\n/static/1bbc24e380a98dd7f4db187c8609bb61/6283e/leetcode_hard.png 400w,\n/static/1bbc24e380a98dd7f4db187c8609bb61/18404/leetcode_hard.png 800w","sizes":"(min-width: 800px) 800px, 100vw"},"sources":[{"srcSet":"/static/1bbc24e380a98dd7f4db187c8609bb61/81933/leetcode_hard.webp 200w,\n/static/1bbc24e380a98dd7f4db187c8609bb61/39863/leetcode_hard.webp 400w,\n/static/1bbc24e380a98dd7f4db187c8609bb61/c2ffc/leetcode_hard.webp 800w","type":"image/webp","sizes":"(min-width: 800px) 800px, 100vw"}]},"width":800,"height":519}},"publicURL":"/static/1bbc24e380a98dd7f4db187c8609bb61/leetcode_hard.png"}}}}]}},"pageContext":{"slug":"/leetcode-42-explanation/"}},"staticQueryHashes":[]}