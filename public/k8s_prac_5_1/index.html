<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="naver-site-verification" content="7727e68f404d4c7be584f2b673b9943ab5c6b9ab"/><meta data-react-helmet="true" name="google-site-verification" content="fygLmB3YoAnXWkSTMHoemYurOt8ZBEdT2K5M1qZQL5E"/><meta data-react-helmet="true" name="twitter:image" content="/static/582542484766a1b4ac3c5f037914dd69/k8s.jpg"/><meta data-react-helmet="true" name="twitter:description" content="엘튼 스톤맨의 『쿠버네티스 교과서』를 바탕으로 k8s 실습을 진행합니다."/><meta data-react-helmet="true" name="twitter:title" content="『쿠버네티스 교과서』실습 5장 part 1"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:site_name" content="『쿠버네티스 교과서』실습 5장 part 1"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:image" content="/static/582542484766a1b4ac3c5f037914dd69/k8s.jpg"/><meta data-react-helmet="true" property="og:description" content="엘튼 스톤맨의 『쿠버네티스 교과서』를 바탕으로 k8s 실습을 진행합니다."/><meta data-react-helmet="true" property="og:title" content="『쿠버네티스 교과서』실습 5장 part 1"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" name="description" content="엘튼 스톤맨의 『쿠버네티스 교과서』를 바탕으로 k8s 실습을 진행합니다."/><meta name="generator" content="Gatsby 4.19.2"/><style data-href="/styles.69a4e1e9c4403d061256.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:#2f2f2f;color:#eee;font-family:Roboto Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5em;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#363636}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1.25em 1em;position:relative}.language-css>code,.language-sass>code,.language-scss>code{color:#fd9170}[class*=language-] .namespace{opacity:.7}.token.atrule{color:#c792ea}.token.attr-name{color:#ffcb6b}.token.attr-value,.token.attribute{color:#a5e844}.token.boolean{color:#c792ea}.token.builtin{color:#ffcb6b}.token.cdata,.token.char{color:#80cbc4}.token.class{color:#ffcb6b}.token.class-name{color:#f2ff00}.token.comment{color:#616161}.token.constant{color:#c792ea}.token.deleted{color:#f66}.token.doctype{color:#616161}.token.entity{color:#f66}.token.function{color:#c792ea}.token.hexcode{color:#f2ff00}.token.id,.token.important{color:#c792ea;font-weight:700}.token.inserted{color:#80cbc4}.token.keyword{color:#c792ea}.token.number{color:#fd9170}.token.operator{color:#89ddff}.token.prolog{color:#616161}.token.property{color:#80cbc4}.token.pseudo-class,.token.pseudo-element{color:#a5e844}.token.punctuation{color:#89ddff}.token.regex{color:#f2ff00}.token.selector{color:#f66}.token.string{color:#a5e844}.token.symbol{color:#c792ea}.token.tag{color:#f66}.token.unit{color:#fd9170}.token.url,.token.variable{color:#f66}:host,:root{--fa-font-solid:normal 900 1em/1 "Font Awesome 6 Solid";--fa-font-regular:normal 400 1em/1 "Font Awesome 6 Regular";--fa-font-light:normal 300 1em/1 "Font Awesome 6 Light";--fa-font-thin:normal 100 1em/1 "Font Awesome 6 Thin";--fa-font-duotone:normal 900 1em/1 "Font Awesome 6 Duotone";--fa-font-brands:normal 400 1em/1 "Font Awesome 6 Brands"}svg:not(:host).svg-inline--fa,svg:not(:root).svg-inline--fa{box-sizing:content-box;overflow:visible}.svg-inline--fa{display:var(--fa-display,inline-block);height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-2xs{vertical-align:.1em}.svg-inline--fa.fa-xs{vertical-align:0}.svg-inline--fa.fa-sm{vertical-align:-.07143em}.svg-inline--fa.fa-lg{vertical-align:-.2em}.svg-inline--fa.fa-xl{vertical-align:-.25em}.svg-inline--fa.fa-2xl{vertical-align:-.3125em}.svg-inline--fa.fa-pull-left{margin-right:var(--fa-pull-margin,.3em);width:auto}.svg-inline--fa.fa-pull-right{margin-left:var(--fa-pull-margin,.3em);width:auto}.svg-inline--fa.fa-li{top:.25em;width:var(--fa-li-width,2em)}.svg-inline--fa.fa-fw{width:var(--fa-fw-width,1.25em)}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:var(--fa-counter-background-color,#ff253a);border-radius:var(--fa-counter-border-radius,1em);box-sizing:border-box;color:var(--fa-inverse,#fff);line-height:var(--fa-counter-line-height,1);max-width:var(--fa-counter-max-width,5em);min-width:var(--fa-counter-min-width,1.5em);overflow:hidden;padding:var(--fa-counter-padding,.25em .5em);right:var(--fa-right,0);text-overflow:ellipsis;top:var(--fa-top,0);-webkit-transform:scale(var(--fa-counter-scale,.25));transform:scale(var(--fa-counter-scale,.25));-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:var(--fa-bottom,0);right:var(--fa-right,0);top:auto;-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:var(--fa-bottom,0);left:var(--fa-left,0);right:auto;top:auto;-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:var(--fa-right,0);top:var(--fa-top,0);-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:var(--fa-left,0);right:auto;top:var(--fa-top,0);-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:top left;transform-origin:top left}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-2xs{font-size:.625em;line-height:.1em;vertical-align:.225em}.fa-xs{font-size:.75em;line-height:.08333em;vertical-align:.125em}.fa-sm{font-size:.875em;line-height:.07143em;vertical-align:.05357em}.fa-lg{font-size:1.25em;line-height:.05em;vertical-align:-.075em}.fa-xl{font-size:1.5em;line-height:.04167em;vertical-align:-.125em}.fa-2xl{font-size:2em;line-height:.03125em;vertical-align:-.1875em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:var(--fa-li-margin,2.5em);padding-left:0}.fa-ul>li{position:relative}.fa-li{left:calc(var(--fa-li-width, 2em)*-1);line-height:inherit;position:absolute;text-align:center;width:var(--fa-li-width,2em)}.fa-border{border-color:var(--fa-border-color,#eee);border-radius:var(--fa-border-radius,.1em);border-style:var(--fa-border-style,solid);border-width:var(--fa-border-width,.08em);padding:var(--fa-border-padding,.2em .25em .15em)}.fa-pull-left{float:left;margin-right:var(--fa-pull-margin,.3em)}.fa-pull-right{float:right;margin-left:var(--fa-pull-margin,.3em)}.fa-beat{-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-name:fa-beat;animation-name:fa-beat;-webkit-animation-timing-function:var(--fa-animation-timing,ease-in-out);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-bounce{-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-name:fa-bounce;animation-name:fa-bounce;-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1));animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1))}.fa-fade{-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-name:fa-fade;animation-name:fa-fade;-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1));animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-beat-fade,.fa-fade{-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s)}.fa-beat-fade{-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-name:fa-beat-fade;animation-name:fa-beat-fade;-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1));animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-flip{-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-name:fa-flip;animation-name:fa-flip;-webkit-animation-timing-function:var(--fa-animation-timing,ease-in-out);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-shake{-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-name:fa-shake;animation-name:fa-shake;-webkit-animation-timing-function:var(--fa-animation-timing,linear);animation-timing-function:var(--fa-animation-timing,linear)}.fa-shake,.fa-spin{-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal)}.fa-spin{-webkit-animation-duration:var(--fa-animation-duration,2s);animation-duration:var(--fa-animation-duration,2s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-name:fa-spin;animation-name:fa-spin;-webkit-animation-timing-function:var(--fa-animation-timing,linear);animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin-reverse{--fa-animation-direction:reverse}.fa-pulse,.fa-spin-pulse{-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-name:fa-spin;animation-name:fa-spin;-webkit-animation-timing-function:var(--fa-animation-timing,steps(8));animation-timing-function:var(--fa-animation-timing,steps(8))}@media (prefers-reduced-motion:reduce){.fa-beat,.fa-beat-fade,.fa-bounce,.fa-fade,.fa-flip,.fa-pulse,.fa-shake,.fa-spin,.fa-spin-pulse{-webkit-animation-delay:-1ms;animation-delay:-1ms;-webkit-animation-duration:1ms;animation-duration:1ms;-webkit-animation-iteration-count:1;animation-iteration-count:1;transition-delay:0s;transition-duration:0s}}@-webkit-keyframes fa-beat{0%,90%{-webkit-transform:scale(1);transform:scale(1)}45%{-webkit-transform:scale(var(--fa-beat-scale,1.25));transform:scale(var(--fa-beat-scale,1.25))}}@keyframes fa-beat{0%,90%{-webkit-transform:scale(1);transform:scale(1)}45%{-webkit-transform:scale(var(--fa-beat-scale,1.25));transform:scale(var(--fa-beat-scale,1.25))}}@-webkit-keyframes fa-bounce{0%{-webkit-transform:scale(1) translateY(0);transform:scale(1) translateY(0)}10%{-webkit-transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0);transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{-webkit-transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em));transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{-webkit-transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0);transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{-webkit-transform:scale(1) translateY(var(--fa-bounce-rebound,-.125em));transform:scale(1) translateY(var(--fa-bounce-rebound,-.125em))}64%{-webkit-transform:scale(1) translateY(0);transform:scale(1) translateY(0)}to{-webkit-transform:scale(1) translateY(0);transform:scale(1) translateY(0)}}@keyframes fa-bounce{0%{-webkit-transform:scale(1) translateY(0);transform:scale(1) translateY(0)}10%{-webkit-transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0);transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{-webkit-transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em));transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{-webkit-transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0);transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{-webkit-transform:scale(1) translateY(var(--fa-bounce-rebound,-.125em));transform:scale(1) translateY(var(--fa-bounce-rebound,-.125em))}64%{-webkit-transform:scale(1) translateY(0);transform:scale(1) translateY(0)}to{-webkit-transform:scale(1) translateY(0);transform:scale(1) translateY(0)}}@-webkit-keyframes fa-fade{50%{opacity:var(--fa-fade-opacity,.4)}}@keyframes fa-fade{50%{opacity:var(--fa-fade-opacity,.4)}}@-webkit-keyframes fa-beat-fade{0%,to{opacity:var(--fa-beat-fade-opacity,.4);-webkit-transform:scale(1);transform:scale(1)}50%{opacity:1;-webkit-transform:scale(var(--fa-beat-fade-scale,1.125));transform:scale(var(--fa-beat-fade-scale,1.125))}}@keyframes fa-beat-fade{0%,to{opacity:var(--fa-beat-fade-opacity,.4);-webkit-transform:scale(1);transform:scale(1)}50%{opacity:1;-webkit-transform:scale(var(--fa-beat-fade-scale,1.125));transform:scale(var(--fa-beat-fade-scale,1.125))}}@-webkit-keyframes fa-flip{50%{-webkit-transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg));transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@keyframes fa-flip{50%{-webkit-transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg));transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@-webkit-keyframes fa-shake{0%{-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}4%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}24%,8%{-webkit-transform:rotate(-18deg);transform:rotate(-18deg)}12%,28%{-webkit-transform:rotate(18deg);transform:rotate(18deg)}16%{-webkit-transform:rotate(-22deg);transform:rotate(-22deg)}20%{-webkit-transform:rotate(22deg);transform:rotate(22deg)}32%{-webkit-transform:rotate(-12deg);transform:rotate(-12deg)}36%{-webkit-transform:rotate(12deg);transform:rotate(12deg)}40%,to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes fa-shake{0%{-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}4%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}24%,8%{-webkit-transform:rotate(-18deg);transform:rotate(-18deg)}12%,28%{-webkit-transform:rotate(18deg);transform:rotate(18deg)}16%{-webkit-transform:rotate(-22deg);transform:rotate(-22deg)}20%{-webkit-transform:rotate(22deg);transform:rotate(22deg)}32%{-webkit-transform:rotate(-12deg);transform:rotate(-12deg)}36%{-webkit-transform:rotate(12deg);transform:rotate(12deg)}40%,to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.fa-flip-vertical{-webkit-transform:scaleY(-1);transform:scaleY(-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1);transform:scale(-1)}.fa-rotate-by{-webkit-transform:rotate(var(--fa-rotate-angle,none));transform:rotate(var(--fa-rotate-angle,none))}.fa-stack{display:inline-block;height:2em;position:relative;vertical-align:middle;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;z-index:var(--fa-stack-z-index,auto)}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:var(--fa-inverse,#fff)}.fa-sr-only,.fa-sr-only-focusable:not(:focus),.sr-only,.sr-only-focusable:not(:focus){clip:rect(0,0,0,0);border-width:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.svg-inline--fa .fa-primary{fill:var(--fa-primary-color,currentColor);opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:var(--fa-secondary-color,currentColor)}.svg-inline--fa .fa-secondary,.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.fa-duotone.fa-inverse,.fad.fa-inverse{color:var(--fa-inverse,#fff)}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/favicon-32x32.png?v=fe1cfd1d0f30f87b6d8f1bf6bea4c1e4" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=fe1cfd1d0f30f87b6d8f1bf6bea4c1e4"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=fe1cfd1d0f30f87b6d8f1bf6bea4c1e4"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=fe1cfd1d0f30f87b6d8f1bf6bea4c1e4"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=fe1cfd1d0f30f87b6d8f1bf6bea4c1e4"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=fe1cfd1d0f30f87b6d8f1bf6bea4c1e4"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=fe1cfd1d0f30f87b6d8f1bf6bea4c1e4"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=fe1cfd1d0f30f87b6d8f1bf6bea4c1e4"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=fe1cfd1d0f30f87b6d8f1bf6bea4c1e4"/><link rel="canonical" href="https://yangdongs.web.app/k8s_prac_5_1/" data-baseprotocol="https:" data-basehost="yangdongs.web.app"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">『쿠버네티스 교과서』실습 5장 part 1</title><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="alternate" type="application/rss+xml" title="Yangdongs RSS Feed" href="/rss.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css vbubbu">.css-vbubbu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100vh;overflow-x:hidden;width:100%;}</style><main class="css-vbubbu e1strnqo0"><style data-emotion="css 1pe8cy1">.css-1pe8cy1{position:fixed;margin:10px 10px;z-index:5;}</style><div class="css-1pe8cy1 e1md2nih0"><style data-emotion="css 1qhl3ja">.css-1qhl3ja{display:grid;place-items:center;width:60px;height:60px;border-radius:20px;background-color:#4ccd97;color:#ffffff;font-size:40px;cursor:pointer;box-shadow:0 0 5px rgba(0, 0, 0, 0.2);-webkit-transition:background-color 0.6s,color 0.6s;transition:background-color 0.6s,color 0.6s;}.css-1qhl3ja:hover{background-color:#ffffff;color:#4ccd97;}@media (max-width: 768px){.css-1qhl3ja{width:45px;height:45px;font-size:30px;border-radius:15px;}}</style><div class="css-1qhl3ja e1md2nih1"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="compass" class="svg-inline--fa fa-compass " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M288 256C288 273.7 273.7 288 256 288C238.3 288 224 273.7 224 256C224 238.3 238.3 224 256 224C273.7 224 288 238.3 288 256zM0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM325.1 306.7L380.6 162.4C388.1 142.1 369 123.9 349.6 131.4L205.3 186.9C196.8 190.1 190.1 196.8 186.9 205.3L131.4 349.6C123.9 369 142.1 388.1 162.4 380.6L306.7 325.1C315.2 321.9 321.9 315.2 325.1 306.7V306.7z"></path></svg></div><style data-emotion="css 12ua5r7">.css-12ua5r7{margin:10px 10px;border-radius:20px;z-index:4;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:fixed;-webkit-transition:500ms;transition:500ms;left:-600px;box-shadow:0 0 5px rgba(0, 0, 0, 0.2);background-color:white;}</style><div class="css-12ua5r7 ee3oskm2"><style data-emotion="css x68nae">.css-x68nae{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:center;margin-top:5%;margin-bottom:10%;margin:10px;}</style><div class="css-x68nae ee3oskm1"><style data-emotion="css 58nrwj">.css-58nrwj{font-size:20px;margin:15px;}.css-58nrwj:hover{border-bottom:3px solid #4ccd97;}</style><a class="css-58nrwj ee3oskm0" href="/">Home</a><a class="css-58nrwj ee3oskm0" href="/post/">Post</a><a href="https://github.com/Yanghyeondong/tech_blog#readme" class="css-58nrwj ee3oskm0">About</a></div></div></div><style data-emotion="css-global gyifnl">@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'Noto Sans KR',sans-serif;}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}</style><style data-emotion="css 16cz9yp">.css-16cz9yp{position:relative;width:100%;height:400px;}@media (max-width: 768px){.css-16cz9yp{height:300px;}}</style><div class="css-16cz9yp e1opi4mu1"><style data-emotion="css 1bjn9yo">.css-1bjn9yo{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}@media (max-width: 768px){.css-1bjn9yo{height:300px;}}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-1bjn9yo e1opi4mu0"><div style="max-width:1280px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;720&#x27; width=&#x27;1280&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAcCBQj/xAAWAQEBAQAAAAAAAAAAAAAAAAAJAgX/2gAMAwEAAhADEAAAAUQ68/wQe68DIU3/xAAbEAABBAMAAAAAAAAAAAAAAAACAAMEBQEGEP/aAAgBAQABBQKG209L3Oloq2GsozMuf//EACERAAICAQIHAAAAAAAAAAAAAAECAwQSABEFBxM0QXOy/9oACAEDAQE/AeQ9V7DcFaOxNWNW1FO/SZgLEWKg1pV3CNG3nIMQC2OzYstDsqvoi+Rr/8QAHhEAAQMFAQEAAAAAAAAAAAAAAwECEgAEESFhBTL/2gAIAQIBAT8B9S3IS4AZpyDYGUxNxA0sfes64qdkmqWv/8QAIxAAAgEDBAEFAAAAAAAAAAAAAQIRAxIiBBAhMQAFEzJBUf/aAAgBAQAGPwLT067W0nqAOTcOPzHLkwMcj0uUeaOr6ZUT3nsVlV5vWADwoCFvkzNIbDhFU75OzRMXMWie+ye/vb//xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhMUFx/9oACAEBAAE/ITqO+CxlF14nd15QbYYQsJzV+IXNc9YyfLHAxqUGnYXhjn//2gAMAwEAAgADAAAAEFv/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxBFpaYiyxm1CBz+v//EABoRAQEAAgMAAAAAAAAAAAAAAAERADFBcbH/2gAIAQIBAT8Qs1GoBEKWhnNcjZ7fc//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExwXH/2gAIAQEAAT8QuLX5IofsSCd43ADOLxb1Xx453POs5cjI3Qk8gWXBUWtsG551n//Z" alt=""/><picture><source type="image/webp" data-srcset="/static/582542484766a1b4ac3c5f037914dd69/378b7/k8s.webp 320w,/static/582542484766a1b4ac3c5f037914dd69/3c3fb/k8s.webp 640w,/static/582542484766a1b4ac3c5f037914dd69/c2dd8/k8s.webp 1280w" sizes="(min-width: 1280px) 1280px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1280px) 1280px, 100vw" decoding="async" loading="lazy" data-src="/static/582542484766a1b4ac3c5f037914dd69/bc134/k8s.jpg" data-srcset="/static/582542484766a1b4ac3c5f037914dd69/2278c/k8s.jpg 320w,/static/582542484766a1b4ac3c5f037914dd69/0f1c0/k8s.jpg 640w,/static/582542484766a1b4ac3c5f037914dd69/bc134/k8s.jpg 1280w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/582542484766a1b4ac3c5f037914dd69/378b7/k8s.webp 320w,/static/582542484766a1b4ac3c5f037914dd69/3c3fb/k8s.webp 640w,/static/582542484766a1b4ac3c5f037914dd69/c2dd8/k8s.webp 1280w" sizes="(min-width: 1280px) 1280px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1280px) 1280px, 100vw" decoding="async" loading="lazy" src="/static/582542484766a1b4ac3c5f037914dd69/bc134/k8s.jpg" srcSet="/static/582542484766a1b4ac3c5f037914dd69/2278c/k8s.jpg 320w,/static/582542484766a1b4ac3c5f037914dd69/0f1c0/k8s.jpg 640w,/static/582542484766a1b4ac3c5f037914dd69/bc134/k8s.jpg 1280w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><style data-emotion="css lzjgtp">.css-lzjgtp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:400px;margin:0 auto;padding:60px 0;color:#ffffff;}@media (max-width: 768px){.css-lzjgtp{height:330px;width:100%;padding:40px 20px;}}</style><div class="css-lzjgtp e1st1jau7"><style data-emotion="css 10qqw1">.css-10qqw1{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin:auto 0;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:42px;font-weight:800;}@media (max-width: 768px){.css-10qqw1{font-size:30px;}}</style><div class="css-10qqw1 e1st1jau5">『쿠버네티스 교과서』실습 5장 part 1</div><style data-emotion="css 3gcnt2">.css-3gcnt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}@media (max-width: 768px){.css-3gcnt2{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:15px;font-weight:400;}}</style><div class="css-3gcnt2 e1st1jau4"><style data-emotion="css 5yjeco">.css-5yjeco{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:start;justify-content:start;}@media (max-width: 768px){.css-5yjeco{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><div class="css-5yjeco e1st1jau3"><style data-emotion="css 1b9df66">.css-1b9df66{margin:2px 5px;padding:1px 7px 4px 7px;border-radius:6px;background-color:#49ae8e;font-size:16px;font-weight:800;color:white;}@media (max-width: 768px){.css-1b9df66{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><div class="css-1b9df66 e1st1jau2">K8s</div><div class="css-1b9df66 e1st1jau2">Docker</div><div class="css-1b9df66 e1st1jau2">DevOps</div></div><style data-emotion="css 14b4j72">.css-14b4j72{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media (max-width: 768px){.css-14b4j72{margin:7px 7px;}}</style><div class="css-14b4j72 e1st1jau1"><style data-emotion="css nkt64x">.css-nkt64x{margin-right:10px;}</style><div class="css-nkt64x e1st1jau0"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="calendar-days" class="svg-inline--fa fa-calendar-days " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M160 32V64H288V32C288 14.33 302.3 0 320 0C337.7 0 352 14.33 352 32V64H400C426.5 64 448 85.49 448 112V160H0V112C0 85.49 21.49 64 48 64H96V32C96 14.33 110.3 0 128 0C145.7 0 160 14.33 160 32zM0 192H448V464C448 490.5 426.5 512 400 512H48C21.49 512 0 490.5 0 464V192zM64 304C64 312.8 71.16 320 80 320H112C120.8 320 128 312.8 128 304V272C128 263.2 120.8 256 112 256H80C71.16 256 64 263.2 64 272V304zM192 304C192 312.8 199.2 320 208 320H240C248.8 320 256 312.8 256 304V272C256 263.2 248.8 256 240 256H208C199.2 256 192 263.2 192 272V304zM336 256C327.2 256 320 263.2 320 272V304C320 312.8 327.2 320 336 320H368C376.8 320 384 312.8 384 304V272C384 263.2 376.8 256 368 256H336zM64 432C64 440.8 71.16 448 80 448H112C120.8 448 128 440.8 128 432V400C128 391.2 120.8 384 112 384H80C71.16 384 64 391.2 64 400V432zM208 384C199.2 384 192 391.2 192 400V432C192 440.8 199.2 448 208 448H240C248.8 448 256 440.8 256 432V400C256 391.2 248.8 384 240 384H208zM320 432C320 440.8 327.2 448 336 448H368C376.8 448 384 440.8 384 432V400C384 391.2 376.8 384 368 384H336C327.2 384 320 391.2 320 400V432z"></path></svg></div>2024.01.23.</div></div></div></div><style data-emotion="css hn6e83">.css-hn6e83{margin:auto auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}@media (min-width: 1200px){.css-hn6e83{margin-left:calc( 50% - 384px );}}@media (max-width: 768px){.css-hn6e83{width:100%;}}</style><div class="css-hn6e83 e6b6ljm0"><style data-emotion="css aco8as">.css-aco8as{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:2.5;font-size:18px;font-weight:400;}.css-aco8as p{padding:3px 0;}.css-aco8as strong{margin:0px 1px;font-size:18.3px;font-weight:800;}.css-aco8as h1,.css-aco8as h2{font-weight:800;margin-bottom:20px;}.css-aco8as h3{margin-bottom:0px;}.css-aco8as *+h1,.css-aco8as *+h2,.css-aco8as *+h3{margin-top:50px;}.css-aco8as *+h4{margin-top:25px;}.css-aco8as hr+h1,.css-aco8as hr+h2,.css-aco8as hr+h3{margin-top:0;}.css-aco8as hr+h4{margin-top:25px;}.css-aco8as h1{font-size:40px;}.css-aco8as h2{font-size:35px;}.css-aco8as h3{font-size:23px;color:#49ae8e;}.css-aco8as blockquote{margin:30px 10px;padding:5px 15px;border-left:2px solid #49ae8e;background-color:#f9f9f9;font-weight:400;}.css-aco8as blockquote li{font-size:18px;margin:0px 15px;padding:0px 10px 0px 5px;background-color:#f9f9f9;}.css-aco8as blockquote ol li::Marker{font-weight:800;color:#000;}.css-aco8as em{padding-right:8px;padding-left:3px;}.css-aco8as ol{margin-left:20px;padding:5px 0;}.css-aco8as ol li::Marker{font-weight:800;font-size:19px;color:#49ae8e;}.css-aco8as ul{margin:20px;margin-right:0px;}.css-aco8as ul li::Marker{content:"▶ ";font-weight:800;color:#49ae8e;}.css-aco8as li{font-size:17px;margin:10px 20px;padding-left:10px;padding-right:10px;background-color:#f9f9f9;border-radius:10px;}.css-aco8as li strong{font-size:17.5px;}.css-aco8as del{-webkit-text-decoration:line-through 3px solid rgba(0, 0, 0, .4);text-decoration:line-through 3px solid rgba(0, 0, 0, .4);}.css-aco8as hr{border:1px solid #000000;margin:100px 0;}.css-aco8as a{font-weight:800;color:#49ae8e;-webkit-text-decoration:underline 1px;text-decoration:underline 1px;text-underline-position:under;}.css-aco8as a:hover{color:#ffffff;background-color:#49ae8e;}.css-aco8as pre[class*='language-']{font-weight:300;padding:20px 30px;margin-bottom:15px;font-size:20px;border-radius:10px;border:1px solid #dddddd;}.css-aco8as pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);}.css-aco8as pre[class*='language-'] *{font-family:'Roboto Mono',monospace;font-weight:400;}.css-aco8as code[class*='language-']{font-size:16px;margin-right:4px;}.css-aco8as :not(pre)>code[class*="language-"]{font-size:15px;margin-right:4px;margin-left:4px;color:#000000;background-color:#fafafa;border:1px solid #dddddd;padding:1px 4px 3px 4px;border-radius:5px;}.css-aco8as :not(pre)>code[class*="language-"]::selection{background-color:#dadada;}@media (max-width: 768px){.css-aco8as{width:100%;padding:80px 20px;line-height:2.0;font-size:16px;}.css-aco8as h1{font-size:26px;}.css-aco8as h2{font-size:23px;}.css-aco8as h3{font-size:20px;}.css-aco8as strong{margin:0px 3px;font-size:17px;font-weight:800;}.css-aco8as img{width:100%;}.css-aco8as hr{margin:50px 0;}.css-aco8as li{font-size:16px;}}</style><div class="css-aco8as e1ijh0y10"><p><em>해당 포스트는 교재 『쿠버네티스 교과서』를 활용하며,</em><br>
<em>환경은 Kubernetes v1.28. Docker Desktop으로 진행합니다.</em></p>
<h2 id="개념-요약" style="position:relative;"><a href="#%EA%B0%9C%EB%85%90-%EC%9A%94%EC%95%BD" aria-label="개념 요약 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>개념 요약</h2>
<h3 id="파드속-컨테이너-파일-시스템-구성-방식" style="position:relative;"><a href="#%ED%8C%8C%EB%93%9C%EC%86%8D-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%ED%8C%8C%EC%9D%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%84%B1-%EB%B0%A9%EC%8B%9D" aria-label="파드속 컨테이너 파일 시스템 구성 방식 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>파드속 컨테이너 파일 시스템 구성 방식</h3>
<ol>
<li>컨테이너 이미지가 초기 내용을 제공</li>
<li>기록 가능 레이어에 파일의 수정이나 새로운 파일이 기록됨</li>
<li>볼륨 마운트</li>
</ol>
<h4 id="주의사항" style="position:relative;"><a href="#%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD" aria-label="주의사항 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>주의사항</h4>
<p>파드가 새로 생성되면 기존 기록 가능 레이어의 데이터는 사라진다!</p>
<h3 id="공디렉터리-emptydir" style="position:relative;"><a href="#%EA%B3%B5%EB%94%94%EB%A0%89%ED%84%B0%EB%A6%AC-emptydir" aria-label="공디렉터리 emptydir permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>공디렉터리 emptyDir</h3>
<p>파드 수준의 디렉토리. 공디렉터리 볼륨에 저장된 데이터는 컨테이너가 대체되어도 유지된다. 단, 파드가 대체될 경우 사라진다. 로컬 캐시로서 활용해 애플리케이션의 성능을 높일 수 있다.</p>
<h3 id="호스트경로-볼륨" style="position:relative;"><a href="#%ED%98%B8%EC%8A%A4%ED%8A%B8%EA%B2%BD%EB%A1%9C-%EB%B3%BC%EB%A5%A8" aria-label="호스트경로 볼륨 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>호스트경로 볼륨</h3>
<p>데이터가 특정 노드에 고정되게 된다.</p>
<h4 id="장점" style="position:relative;"><a href="#%EC%9E%A5%EC%A0%90" aria-label="장점 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>장점</h4>
<p>손쉽게 접근이 가능하다.
statefull 애플리케이션에 유리하다.
statefull = 트랜잭션의 컨텍스트와 내역이 저장되는 형태.</p>
<h4 id="단점" style="position:relative;"><a href="#%EB%8B%A8%EC%A0%90" aria-label="단점 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>단점</h4>
<p>해당 노드에서만 쓸 수 있기에 전체 클러스터에서 쓰지 못한다.
보안적으로 취약하다. 노드의 파일 시스템 전체에 파드 컨테이너가 접근할 수 있게 된다. 단, 이는 볼륨과 마운트 정의에서 SubPath를 활용하면 된다.</p>
<h3 id="k8s-분산-스토리지-시스템" style="position:relative;"><a href="#k8s-%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%8B%9C%EC%8A%A4%ED%85%9C" aria-label="k8s 분산 스토리지 시스템 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>k8s 분산 스토리지 시스템</h3>
<p>AKS - Azure 파일스, Azure 디스크<br>
EKS - Elastic Block Store
온프레미스 - NFS, GlusterFS</p>
<p>파드 : 컴퓨팅 계층의 추상
서비스 : 네트워크 계층의 추상
영구볼륨&#x26;클레임 : 스토리지 계층의 추상</p>
<h3 id="분산-스토리지가-없을-경우" style="position:relative;"><a href="#%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%EA%B0%80-%EC%97%86%EC%9D%84-%EA%B2%BD%EC%9A%B0" aria-label="분산 스토리지가 없을 경우 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>분산 스토리지가 없을 경우</h3>
<p>특정 노드에 레이블을 부여하고 해당 노드의 로컬볼륨을 영구볼륨으로 활용.</p>
<h3 id="영구볼륨-클레임" style="position:relative;"><a href="#%EC%98%81%EA%B5%AC%EB%B3%BC%EB%A5%A8-%ED%81%B4%EB%A0%88%EC%9E%84" aria-label="영구볼륨 클레임 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>영구볼륨 클레임</h3>
<p>파드가 사용하는 스토리지의 추상. 파드가 영구 볼륨을 사용하기 위해 요청하는 대상. 접근 유형과 스토리지 용량, 스토리지 유형을 지정한다. 스토리지 유형을 지정하지 않으면 쿠버네티스가 현존하는 영구볼륨 중 찾아서 연결해준다. 영구볼륨 클레임과 영구 볼륨과 1대1의 대응을 가진다.</p>
<h3 id="tip" style="position:relative;"><a href="#tip" aria-label="tip permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TIP</h3>
<p>클러스터에서 각 노드에 로그인할 권한이 없다면, 호스트경로 마운트로 노드의 루트 디렉터리를 마운트한 파드를 활용해서 로컬 볼륨에 원하는 작업을 할 수 있다.</p>
<h2 id="실습" style="position:relative;"><a href="#%EC%8B%A4%EC%8A%B5" aria-label="실습 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>실습</h2>
<h3 id="주요-요점들" style="position:relative;"><a href="#%EC%A3%BC%EC%9A%94-%EC%9A%94%EC%A0%90%EB%93%A4" aria-label="주요 요점들 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>주요 요점들</h3>
<ul>
<li>영구볼륨과 연결되지 않은 클레임을 참조하는 파드를 배치할려고 하면 오류가 발생한다.</li>
<li>영구볼륨을 명시적으로 생성 - 정적 프로비저닝</li>
<li>클레임에서 사용가능한 볼륨이 없으면 peding 상태가 된다</li>
</ul>
<h3 id="매니페스트-파일" style="position:relative;"><a href="#%EB%A7%A4%EB%8B%88%ED%8E%98%EC%8A%A4%ED%8A%B8-%ED%8C%8C%EC%9D%BC" aria-label="매니페스트 파일 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>매니페스트 파일</h3>
<p>sleep-with-emptyDir.yaml</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> sleep
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> sleep
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> sleep
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> sleep
          <span class="token key atrule">image</span><span class="token punctuation">:</span> kiamol/ch03<span class="token punctuation">-</span>sleep
          <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> data
              <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /data
      <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> data
          <span class="token key atrule">emptyDir</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></div>
<p>persistentVolume.yaml</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> PersistentVolume
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> pv01
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">capacity</span><span class="token punctuation">:</span>
    <span class="token key atrule">storage</span><span class="token punctuation">:</span> 50Mi
  <span class="token key atrule">accessModes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ReadWriteOnce
  <span class="token key atrule">local</span><span class="token punctuation">:</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /volumes/pv01 
  <span class="token key atrule">nodeAffinity</span><span class="token punctuation">:</span>
    <span class="token key atrule">required</span><span class="token punctuation">:</span>
      <span class="token key atrule">nodeSelectorTerms</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">matchExpressions</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">key</span><span class="token punctuation">:</span> kiamol
            <span class="token key atrule">operator</span><span class="token punctuation">:</span> In
            <span class="token key atrule">values</span><span class="token punctuation">:</span>
              <span class="token punctuation">-</span> ch05</code></pre></div>
<p>postgres-persistentVolumeClaim.yaml</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> PersistentVolumeClaim
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> postgres<span class="token punctuation">-</span>pvc
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">accessModes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ReadWriteOnce
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
    <span class="token key atrule">requests</span><span class="token punctuation">:</span>
      <span class="token key atrule">storage</span><span class="token punctuation">:</span> 40Mi
  <span class="token key atrule">storageClassName</span><span class="token punctuation">:</span> <span class="token string">""</span></code></pre></div>
<h3 id="" style="position:relative;"><a href="#" aria-label=" permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<div class="gatsby-highlight" data-language="powershell"><pre class="language-powershell"><code class="language-powershell"><span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># sleep 파드를 배치한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f <span class="token function">sleep</span><span class="token operator">/</span><span class="token function">sleep</span><span class="token punctuation">.</span>yaml
deployment<span class="token punctuation">.</span>apps/<span class="token function">sleep</span> unchanged
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 컨테이너 속에 파일 하나를 생성한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> sh <span class="token operator">-</span>c <span class="token string">'echo ch05 > /file.txt; ls /*.txt'</span>
<span class="token operator">/</span>file<span class="token punctuation">.</span>txt
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 컨테이너 ID를 확인한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl get pod <span class="token operator">-</span>l app=<span class="token function">sleep</span> <span class="token operator">-</span>o jsonpath=<span class="token string">'{.items[0].status.containerStatuses[0].containerID}'</span>     
docker:<span class="token operator">/</span><span class="token operator">/</span>2b8e762f528550bbf71c5f23d5de88ac87667d4a13aca0733ea0beb1e10639ab
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 파드가 재시작하도록 컨테이너의 모든 프로세스를 강제 종료한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec <span class="token operator">-</span>it deploy/<span class="token function">sleep</span> <span class="token operator">--</span> killall5</code></pre></div>
<div class="gatsby-highlight" data-language="powershell"><pre class="language-powershell"><code class="language-powershell"><span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice> <span class="token comment"># 대체된 컨테이너의 ID를 확인한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice> kubectl get pod <span class="token operator">-</span>l app=<span class="token function">sleep</span> <span class="token operator">-</span>o jsonpath=<span class="token string">'{.items[0].status.containerStatuses[0].containerID}'</span>
docker:<span class="token operator">/</span><span class="token operator">/</span>77736249d5c4e43383981a0be037b5a60d2f86404bbf0cd0466f645f9a62d88f
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice> <span class="token comment"># 조금 전 생성했던 파일이 사라졌다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> <span class="token function">ls</span> <span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">.</span>txt

<span class="token function">ls</span>: <span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">.</span>txt: No such file or directory
command terminated with <span class="token keyword">exit</span> code 1</code></pre></div>
<div class="gatsby-highlight" data-language="powershell"><pre class="language-powershell"><code class="language-powershell"><span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 공디렉터리 볼륨을 사용하도록 sleep 파드 업데이트</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f <span class="token function">sleep</span><span class="token operator">/</span><span class="token function">sleep</span><span class="token operator">-</span>with-emptyDir<span class="token punctuation">.</span>yaml
deployment<span class="token punctuation">.</span>apps/<span class="token function">sleep</span> configured
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 볼륨 마운트 속 파일 목록 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> <span class="token function">ls</span> <span class="token operator">/</span><span class="token keyword">data</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 빈 디렉터리에 파일 하나 생성</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> sh <span class="token operator">-</span>c <span class="token string">'echo ch05 > /data/file.txt; ls /data'</span>
file<span class="token punctuation">.</span>txt
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 컨테이너 ID 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl get pod <span class="token operator">-</span>l app=<span class="token function">sleep</span> <span class="token operator">-</span>o jsonpath=<span class="token string">'{.items[0].status.containerStatuses[0].containerID}'</span>
docker:<span class="token operator">/</span><span class="token operator">/</span>5808d8b3dfe26dba2d68e9eb9d78ac981d6c2c6ab8d7e6421d9925647c656b24
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 컨테이너 프로세스 강제 종료</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> killall5
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 대체 컨테이너의 ID가 바뀌었는지 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl get pod <span class="token operator">-</span>l app=<span class="token function">sleep</span> <span class="token operator">-</span>o jsonpath=<span class="token string">'{.items[0].status.containerStatuses[0].containerID}'</span>
docker:<span class="token operator">/</span><span class="token operator">/</span>6a769d2c72b7f0708eb151c2930f4338a0344b1ebfbd3799b2c1fe186d12d057
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 볼륨이 마운트된 경로의 파일 내용 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> <span class="token function">cat</span> <span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>file<span class="token punctuation">.</span>txt
ch05</code></pre></div>
<div class="gatsby-highlight" data-language="powershell"><pre class="language-powershell"><code class="language-powershell"><span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 파이 애플리케이션을 배치한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f pi/v1/
configmap/pi-proxy-configmap created
service/pi-proxy created
deployment<span class="token punctuation">.</span>apps/pi-proxy created
service/pi-web created
deployment<span class="token punctuation">.</span>apps/pi-web created
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> 
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 파드가 준비 상태가 될 때까지 대기한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl wait <span class="token operator">--</span><span class="token keyword">for</span>=condition=Ready pod <span class="token operator">-</span>l app=pi-web
pod/pi-web-66544ccb68-9pf2w condition met
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 로드밸런서 서비스의 URL을 출력한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl get svc pi-proxy <span class="token operator">-</span>o jsonpath=<span class="token string">'http://{.status.loadBalancer.ingress[0].*}:8080/?dp=30000'</span>
http:<span class="token operator">/</span><span class="token operator">/</span>localhost:8080/?dp=30000
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 위 URL에 접근한 다음 페이지를 새로고침하라</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> 
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 프록시에 저장된 캐시를 확인한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/pi-proxy <span class="token operator">--</span> <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>nginx/cache
total 12
drwx-<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>    3 nginx    nginx         4096 Jan 18 08:01 4
drwx-<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>    3 nginx    nginx         4096 Jan 18 08:01 5
drwx-<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>    3 nginx    nginx         4096 Jan 18 08:01 d
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/pi-proxy <span class="token operator">--</span> <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>nginx/cache
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 프록시 파드를 삭제한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl delete pod <span class="token operator">-</span>l app=pi-proxy
pod <span class="token string">"pi-proxy-5498f7cdd5-jmdjj"</span> deleted
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> 
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 새로 생성된 대체 파드의 캐시 디렉터리 내용을 확인한다</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/pi-proxy <span class="token operator">--</span> <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>nginx/cache
total 0
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/pi-proxy <span class="token operator">--</span> <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>nginx/cache
total 8
drwx-<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>    3 nginx    nginx         4096 Jan 18 08:07 2
drwx-<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>    3 nginx    nginx         4096 Jan 18 08:07 4</code></pre></div>
<div class="gatsby-highlight" data-language="powershell"><pre class="language-powershell"><code class="language-powershell"><span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 호스트경로 볼륨이 마운트된 파드 실행</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f <span class="token function">sleep</span><span class="token operator">/</span><span class="token function">sleep</span><span class="token operator">-</span>with-hostPath<span class="token punctuation">.</span>yaml
deployment<span class="token punctuation">.</span>apps/<span class="token function">sleep</span> unchanged
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> 
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 컨테이너 속 로그 파일 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log
total 0
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 노드 파일 시스템의 로그 파일 내용 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> <span class="token function">ls</span> <span class="token operator">-</span>l <span class="token operator">/</span>node-root/<span class="token keyword">var</span><span class="token operator">/</span>log
total 0
drwxr-xr-x    2 root     root           360 Jan 18 08:52 containers
drwxr-xr-x   19 root     root           380 Jan 18 08:52 pods      
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>                                            
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 컨테이너의 사용자명 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> whoami
root
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 파드 업데이트</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f <span class="token function">sleep</span><span class="token operator">/</span><span class="token function">sleep</span><span class="token operator">-</span>with-hostPath-subPath<span class="token punctuation">.</span>yaml
deployment<span class="token punctuation">.</span>apps/<span class="token function">sleep</span> unchanged
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> 
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 노드 파일 시스템에서 파드의 로그 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> sh <span class="token operator">-</span>c <span class="token string">'ls /pod-logs | grep _pi-'</span>

default_pi-proxy-5584cb46f7-zlx4s_5463a515-2ff4-4ee3-a17c-831400c8f92c
default_pi-proxy-59d4899589-mg7qv_6652d70f-100d-440b-8c90-553d20900c96
default_pi-web-66544ccb68-9pf2w_501b7421-5b9e-4c8a-b782-a016c0154542  
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 컨테이너 로그 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> sh <span class="token operator">-</span>c <span class="token string">'ls /container-logs | grep nginx'</span>                                                                                        
pi-proxy-59d4899589-mg7qv_default_nginx-db67e8d56dc203701eeb2e361ef59dbc69e758622ff0ac3aec708418351e09f0<span class="token punctuation">.</span>log</code></pre></div>
<div class="gatsby-highlight" data-language="powershell"><pre class="language-powershell"><code class="language-powershell"><span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 레이블 셀렉터로 노드의 존재 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl get nodes <span class="token operator">-</span>l kiamol=ch05
NAME             STATUS   ROLES           AGE   VERSION
docker-desktop   Ready    control-plane   22h   v1<span class="token punctuation">.</span>28<span class="token punctuation">.</span>2
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 레이블이 부여된 노드의 로컬 볼륨을 사용하는 영구볼륨을 배치</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f todo-list/persistentVolume<span class="token punctuation">.</span>yaml
persistentvolume/pv01 created
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 영구볼륨의 상세정보 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl get pv
NAME   CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS   REASON   AGE
pv01   50Mi       RWO            Retain           Available                                   3s
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 영구볼륨과 연결될 영구볼륨클레임을 생성</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f todo-list/postgres-persistentVolumeClaim<span class="token punctuation">.</span>yaml
persistentvolumeclaim/postgres-pvc created
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 영구볼륨클레임의 목록 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl get pvc
NAME           STATUS   VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS   AGE
postgres-pvc   Bound    pv01     50Mi       RWO                           4s 
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 영구볼륨의 목록 확인 </span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl get pv
NAME   CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                  STORAGECLASS   REASON   AGE 
pv01   50Mi       RWO            Retain           Bound    default/postgres-pvc                           6m7s</code></pre></div>
<div class="gatsby-highlight" data-language="powershell"><pre class="language-powershell"><code class="language-powershell"><span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 현재 사용 가능한 영구볼륨 중 일치하는 것이 없는 영구볼륨클레임을 배치</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f todo-list/postgres-persistentVolumeClaim-too-big<span class="token punctuation">.</span>yaml
persistentvolumeclaim/postgres-pvc-toobig created                                                                                     kiamol=c
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 영구볼륨클레임의 목록 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl get pvc
NAME                  STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS   AGE
postgres-pvc          Bound     pv01     50Mi       RWO                           37m
postgres-pvc-toobig   Pending                                                     1s
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 노드의 디스크에 접근할 수 있는 sleep 파드를 실행</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f <span class="token function">sleep</span><span class="token operator">/</span><span class="token function">sleep</span><span class="token operator">-</span>with-hostPath<span class="token punctuation">.</span>yaml
deployment<span class="token punctuation">.</span>apps/<span class="token function">sleep</span> configured
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> 
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 파드가 준비될 때까지 대기</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl wait <span class="token operator">--</span><span class="token keyword">for</span>=condition=Ready pod <span class="token operator">-</span>l app=<span class="token function">sleep</span>
pod/<span class="token function">sleep</span><span class="token operator">-</span>68f96fc8d5-wcs72 condition met
pod/<span class="token function">sleep</span><span class="token operator">-</span>fb8dfbfd8-qsrf2 condition met
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 영구볼륨에서 사용할 디렉터리를 생성</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> mkdir <span class="token operator">-</span>p <span class="token operator">/</span>node-root/volumes/pv01</code></pre></div>
<div class="gatsby-highlight" data-language="powershell"><pre class="language-powershell"><code class="language-powershell"><span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 데이터베이스 파드를 배치</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl apply <span class="token operator">-</span>f todo-list/postgres/
secret/todo-db-secret created                                                                                                         kiamol=c
service/todo-db created
deployment<span class="token punctuation">.</span>apps/todo-db created
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> 
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 데이터베이스 파일이 초기화될 때까지 대기</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token function">sleep</span> 30
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> 
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 데이터베이스 파드의 로그를 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl logs <span class="token operator">-</span>l app=todo-db <span class="token operator">--</span>tail 1
2024-01-18 13:48:35<span class="token punctuation">.</span>695 UTC <span class="token punctuation">[</span>1<span class="token punctuation">]</span> LOG:  database system is ready to accept connections
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> <span class="token comment"># 볼륨에 어떤 파일이 생성됐는지 확인</span>
<span class="token function">PS</span> C:\Users\hdyang\Desktop\Project\k8s-practice\ch05> kubectl exec deploy/<span class="token function">sleep</span> <span class="token operator">--</span> sh <span class="token operator">-</span>c <span class="token string">'ls -l /node-root/volumes/pv01 | grep wal'</span>
drwx-<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>    3 70       70              80 Jan 18 13:48 pg_wal</code></pre></div>
<h2 id="source" style="position:relative;"><a href="#source" aria-label="source permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Source</h2>
<ul>
<li>『쿠버네티스 교과서』- 엘튼 스톤맨, 길벗<br>
<a href="https://github.com/gilbutITbook/kiamol" target="_blank" rel="nofollow">https://github.com/gilbutITbook/kiamol</a></li>
</ul></div><style data-emotion="css pit38s">.css-pit38s{height:auto;}</style><div class="css-pit38s etse75s1"><style data-emotion="css v7bn0g">.css-v7bn0g{position:-webkit-sticky;position:sticky;top:50px;display:inline-block;margin:120px 40px;margin-right:0px;height:auto;width:200px;font-size:14.5px;border-left:3px solid #4ccd97;}@media (max-width: 1200px){.css-v7bn0g{display:none;}}.css-v7bn0g li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:5px;color:gray;}.css-v7bn0g ul{margin-left:10px;padding:7px 5px;list-style:none;}.css-v7bn0g a:hover{-webkit-transition:0.3s;transition:0.3s;font-size:15px;font-weight:700;color:#433E49;}</style><div class="css-v7bn0g etse75s0"><ul>
<li>
<p><a href="#%EA%B0%9C%EB%85%90-%EC%9A%94%EC%95%BD">개념 요약</a></p>
<ul>
<li>
<p><a href="#%ED%8C%8C%EB%93%9C%EC%86%8D-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%ED%8C%8C%EC%9D%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%84%B1-%EB%B0%A9%EC%8B%9D">파드속 컨테이너 파일 시스템 구성 방식</a></p>
<ul>
<li><a href="#%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD">주의사항</a></li>
</ul>
</li>
<li>
<p><a href="#%EA%B3%B5%EB%94%94%EB%A0%89%ED%84%B0%EB%A6%AC-emptydir">공디렉터리 emptyDir</a></p>
</li>
<li>
<p><a href="#%ED%98%B8%EC%8A%A4%ED%8A%B8%EA%B2%BD%EB%A1%9C-%EB%B3%BC%EB%A5%A8">호스트경로 볼륨</a></p>
<ul>
<li><a href="#%EC%9E%A5%EC%A0%90">장점</a></li>
<li><a href="#%EB%8B%A8%EC%A0%90">단점</a></li>
</ul>
</li>
<li>
<p><a href="#k8s-%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%8B%9C%EC%8A%A4%ED%85%9C">k8s 분산 스토리지 시스템</a></p>
</li>
<li>
<p><a href="#%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%EA%B0%80-%EC%97%86%EC%9D%84-%EA%B2%BD%EC%9A%B0">분산 스토리지가 없을 경우</a></p>
</li>
<li>
<p><a href="#%EC%98%81%EA%B5%AC%EB%B3%BC%EB%A5%A8-%ED%81%B4%EB%A0%88%EC%9E%84">영구볼륨 클레임</a></p>
</li>
<li>
<p><a href="#tip">TIP</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#%EC%8B%A4%EC%8A%B5">실습</a></p>
<ul>
<li><a href="#%EC%A3%BC%EC%9A%94-%EC%9A%94%EC%A0%90%EB%93%A4">주요 요점들</a></li>
<li><a href="#%EB%A7%A4%EB%8B%88%ED%8E%98%EC%8A%A4%ED%8A%B8-%ED%8C%8C%EC%9D%BC">매니페스트 파일</a></li>
</ul>
</li>
<li>
<p><a href="#source">Source</a></p>
</li>
</ul></div></div></div><style data-emotion="css qi68kj">.css-qi68kj{width:768px;margin:auto auto;padding:0 10px;}@media (max-width: 768px){.css-qi68kj{width:100%;padding:0 20px;}}</style><div class="css-qi68kj elyfc7a0"><div id="disqus_thread"></div></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v81"><style data-emotion="css chvw2h">.css-chvw2h{width:80px;height:80px;background-image:url('bartender.png');-webkit-background-size:contain;background-size:contain;margin:20px auto 0px auto;}</style><div class="css-chvw2h e1oae0v80"></div>Just an developer with drinks<br/>2022 HyeonDong, Powered By Gatsby.</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/k8s_prac_5_1/";window.___webpackCompilationHash="de4810ad07f178159f4b";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c9fa82aa5b1f9c65f078.js"],"app":["/app-e9f3f84a858e449c6845.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-c686bcb9fd021576da4f.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-2d1a635f9e34aa3c993c.js"],"component---src-pages-post-tsx":["/component---src-pages-post-tsx-66acd32db55f17007543.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-676c0d609cc6ccc353e7.js"]};/*]]>*/</script><script src="/polyfill-c9fa82aa5b1f9c65f078.js" nomodule=""></script><script src="/app-e9f3f84a858e449c6845.js" async=""></script><script src="/framework-c57a9454c0e3bef16c3b.js" async=""></script><script src="/webpack-runtime-ee2c7898fe6f22c4cbd1.js" async=""></script></body></html>