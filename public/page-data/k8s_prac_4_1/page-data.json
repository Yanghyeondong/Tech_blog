{"componentChunkName":"component---src-templates-post-template-tsx","path":"/k8s_prac_4_1/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><em>해당 포스트는 교재 『쿠버네티스 교과서』를 활용하며,</em><br>\n<em>환경은 Kubernetes v1.28. Docker Desktop으로 진행합니다.</em></p>\n<h2 id=\"개념-요약\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%85%90-%EC%9A%94%EC%95%BD\" aria-label=\"개념 요약 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개념 요약</h2>\n<h3 id=\"컨테이너의-장점과-환경-설정값\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%9D%98-%EC%9E%A5%EC%A0%90%EA%B3%BC-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95%EA%B0%92\" aria-label=\"컨테이너의 장점과 환경 설정값 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨테이너의 장점과 환경 설정값</h3>\n<p>컨테이는 테스트 환경부터 운영 환경까지 전체 배포 절차가 이미지화되어 진행되기 때문에\r\n의존 모듈 차이로인한 실패가 거의 없다. 단, 환경마다 차이가 완전히 없는 것은 아니여서 이러한 이유로\r\n설정값을 사용하기도 한다.</p>\n<h3 id=\"컨피그맵와-비밀값의-특징\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%94%BC%EA%B7%B8%EB%A7%B5%EC%99%80-%EB%B9%84%EB%B0%80%EA%B0%92%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-label=\"컨피그맵와 비밀값의 특징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨피그맵와 비밀값의 특징</h3>\n<p>포맷 제한없이 데이터 보유가 가능하다. 클러스터 속에서 다른 리소스와 독립적인 장소에 보관된다.<br>\n파드의 정의에서 해당 값들을 불러오도록 할 수 있다.</p>\n<h3 id=\"컨피그맵\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%94%BC%EA%B7%B8%EB%A7%B5\" aria-label=\"컨피그맵 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨피그맵</h3>\n<p>파드에서 읽어 들이는 데이터를 저장하는 리소스.<br>\n키, 값 쌍이나 텍스트, 바이너리등 다양한 형태로 전달가능.<br>\n파드에서 컨피그맵 값의 변경은 불가하다.</p>\n<h3 id=\"k8s의-출처별-환경변수-우선순위\" style=\"position:relative;\"><a href=\"#k8s%EC%9D%98-%EC%B6%9C%EC%B2%98%EB%B3%84-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84\" aria-label=\"k8s의 출처별 환경변수 우선순위 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>k8s의 출처별 환경변수 우선순위</h3>\n<ol>\n<li>컨테이너 이미지\r\n기본 설정값은 컨테이너 이미지에 포함시킨다. 모든 환경에 공통적으로 적용되는 일부설정.</li>\n<li>컨피그맵\r\n각 환경의 실제 설정값을 담아서 컨테이너 파일 시스템에 전달한다. 지정한 경로에 설정 데이터를 파일 형태로 주입하거나 컨테이너 이미지에 담긴 파일을 덮어쓰는 형태다.</li>\n<li>디플로이먼트 파드 정의\r\n변경이 필요한 설정값을 디플로이먼트 파드 정의에 적용시킨다.</li>\n</ol>\n<h3 id=\"컨피그앱-파일-추가\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%94%BC%EA%B7%B8%EC%95%B1-%ED%8C%8C%EC%9D%BC-%EC%B6%94%EA%B0%80\" aria-label=\"컨피그앱 파일 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨피그앱 파일 추가</h3>\n<p>k8s 에서는 컨테이너 파일 시스템 구성에 컨피그맵도 추가할 수 있다.<br>\n컨피그맵은 디렉터리, 각 항목은 파일 형태로 컨테이너 파일 시스템에 추가된다.</p>\n<h3 id=\"컨피그앱-마운트-주의사항\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%94%BC%EA%B7%B8%EC%95%B1-%EB%A7%88%EC%9A%B4%ED%8A%B8-%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD\" aria-label=\"컨피그앱 마운트 주의사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨피그앱 마운트 주의사항</h3>\n<p>기존 경로를 덮어쓸경우, 병합이 아니라 기존 파일의 삭제가 발생한다.<br>\n이는 애플리케이션 컨테이너 오류로 이어지고, k8s에서 몇번의 파드 재시작을 거친이후 잠시 멈춘다.</p>\n<h3 id=\"data와-string-data의-차이\" style=\"position:relative;\"><a href=\"#data%EC%99%80-string-data%EC%9D%98-%EC%B0%A8%EC%9D%B4\" aria-label=\"data와 string data의 차이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>data와 string data의 차이</h3>\n<p>stringData 필드는 base64 인코딩이 필요 없는 일반적인 텍스트 형식으로 키-값 쌍을 저장한다.<br>\ndata 필드는 base64로 인코딩된 키-값 쌍을 저장한다.</p>\n<h2 id=\"실습\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%8A%B5\" aria-label=\"실습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실습</h2>\n<h3 id=\"주요-요점들\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9A%94-%EC%9A%94%EC%A0%90%EB%93%A4\" aria-label=\"주요 요점들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주요 요점들</h3>\n<ul>\n<li>환경변수는 파드의 생애 주기 내내 변하지 않는다! 변경을 위해서는 파드 교체 필요.</li>\n<li>env에서 정의된 값이 envFrom에서 정의된 값보다 우선된다.</li>\n<li>파드가 동작중인 상황에서 컨피그맵을 업데이트하면 컨테이너에 전달은 되지만 애플리케이션에 따라 결과가 달라진다.</li>\n<li>k8s에서 마운트된 파일은 심링크를 통해 설정된 경로로 연결된다.</li>\n</ul>\n<h3 id=\"매니페스트-파일\" style=\"position:relative;\"><a href=\"#%EB%A7%A4%EB%8B%88%ED%8E%98%EC%8A%A4%ED%8A%B8-%ED%8C%8C%EC%9D%BC\" aria-label=\"매니페스트 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>매니페스트 파일</h3>\n<p>sleep-with-configMap-env-file.yaml</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> apps/v1\r\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Deployment\r\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> sleep\r\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">matchLabels</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> sleep\r\n  <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> sleep\r\n    <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> sleep\r\n          <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> kiamol/ch03<span class=\"token punctuation\">-</span>sleep\r\n          <span class=\"token key atrule\">envFrom</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">configMapRef</span><span class=\"token punctuation\">:</span>\r\n              <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> sleep<span class=\"token punctuation\">-</span>config<span class=\"token punctuation\">-</span>env<span class=\"token punctuation\">-</span>file\r\n          <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> KIAMOL_CHAPTER\r\n            <span class=\"token key atrule\">value</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"04\"</span>\r\n          <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> KIAMOL_SECTION\r\n            <span class=\"token key atrule\">valueFrom</span><span class=\"token punctuation\">:</span>\r\n              <span class=\"token key atrule\">configMapKeyRef</span><span class=\"token punctuation\">:</span>              \r\n                <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> sleep<span class=\"token punctuation\">-</span>config<span class=\"token punctuation\">-</span>literal\r\n                <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> kiamol.section\r\n</code></pre></div>\n<p>todo-web-dev</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> apps/v1\r\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Deployment\r\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> todo<span class=\"token punctuation\">-</span>web\r\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">matchLabels</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> todo<span class=\"token punctuation\">-</span>web\r\n  <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> todo<span class=\"token punctuation\">-</span>web\r\n    <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> web\r\n          <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> kiamol/ch04<span class=\"token punctuation\">-</span>todo<span class=\"token punctuation\">-</span>list \r\n          <span class=\"token key atrule\">volumeMounts</span><span class=\"token punctuation\">:</span>\r\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> config\r\n              <span class=\"token key atrule\">mountPath</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/app/config\"</span>\r\n              <span class=\"token key atrule\">readOnly</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\r\n      <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> config\r\n          <span class=\"token key atrule\">configMap</span><span class=\"token punctuation\">:</span>\r\n            <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> todo<span class=\"token punctuation\">-</span>web<span class=\"token punctuation\">-</span>config<span class=\"token punctuation\">-</span>dev\r\n</code></pre></div>\n<h3 id=\"\" style=\"position:relative;\"><a href=\"#\" aria-label=\" permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 설정값 없이 sleep 이미지로 파드 실행</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl apply <span class=\"token operator\">-</span>f <span class=\"token function\">sleep</span><span class=\"token operator\">/</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">.</span>yaml\r\ndeployment<span class=\"token punctuation\">.</span>apps/<span class=\"token function\">sleep</span> created\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 파드가 준비될 때까지 대기</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl wait <span class=\"token operator\">--</span><span class=\"token keyword\">for</span>=condition=Ready pod <span class=\"token operator\">-</span>l app=<span class=\"token function\">sleep</span>\r\npod/<span class=\"token function\">sleep</span><span class=\"token operator\">-</span>568fb49bb7-cll7f condition met\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 파드 속 컨테이너에 설정된 몇 가지 환경 변수의 값을 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl exec deploy/<span class=\"token function\">sleep</span> <span class=\"token operator\">--</span> printenv HOSTNAME KIAMOL_CHAPTER\r\n<span class=\"token function\">sleep</span><span class=\"token operator\">-</span>568fb49bb7-cll7f\r\ncommand terminated with <span class=\"token keyword\">exit</span> code 1\r\n\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 디플로이먼트를 업데이트   </span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl apply <span class=\"token operator\">-</span>f <span class=\"token function\">sleep</span><span class=\"token operator\">/</span><span class=\"token function\">sleep</span><span class=\"token operator\">-</span>with-env<span class=\"token punctuation\">.</span>yaml\r\ndeployment<span class=\"token punctuation\">.</span>apps/<span class=\"token function\">sleep</span> configured\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 조금 전과 같은 환경 변수의 값 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl exec deploy/<span class=\"token function\">sleep</span> <span class=\"token operator\">--</span> printenv HOSTNAME KIAMOL_CHAPTER\r\n<span class=\"token function\">sleep</span><span class=\"token operator\">-</span>675cc588c6-mfm4l\r\n04</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> <span class=\"token comment\"># 명령행 도구를 사용해 컨피그맵 생성</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> kubectl create configmap <span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-literal <span class=\"token operator\">--</span><span class=\"token keyword\">from</span><span class=\"token operator\">-</span>literal=kiamol<span class=\"token punctuation\">.</span>section=<span class=\"token string\">'4.1'</span>\r\nconfigmap/<span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-literal created\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> \r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> <span class=\"token comment\"># 컨피그맵에 들어 있는 데이터 확인 </span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> kubectl get cm <span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-literal\r\nNAME                   <span class=\"token keyword\">DATA</span>   AGE\r\n<span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-literal   1      0s\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> <span class=\"token comment\"># 컨피그맵의 상세 정보를 보기 좋게 출력 </span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> kubectl describe cm <span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-literal\r\nName:         <span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-literal\r\nNamespace:    default\r\nLabels:       &lt;none>\r\nAnnotations:  &lt;none>\r\n\r\n<span class=\"token keyword\">Data</span>\r\n====\r\nkiamol<span class=\"token punctuation\">.</span>section:\r\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span>\r\n4<span class=\"token punctuation\">.</span>1\r\n\r\nBinaryData\r\n====\r\n\r\nEvents:  &lt;none>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> <span class=\"token comment\"># 예제 4-2와 같이 정의가 수정된 파드 배치</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> kubectl apply <span class=\"token operator\">-</span>f <span class=\"token function\">sleep</span><span class=\"token operator\">/</span><span class=\"token function\">sleep</span><span class=\"token operator\">-</span>with-configMap-env<span class=\"token punctuation\">.</span>yaml\r\nerror: the path <span class=\"token string\">\"sleep/sleep-with-configMap-env.yaml\"</span> does not exist\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> cd <span class=\"token punctuation\">.</span>\\ch04\\\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 예제 4-2와 같이 정의가 수정된 파드 배치</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl apply <span class=\"token operator\">-</span>f <span class=\"token function\">sleep</span><span class=\"token operator\">/</span><span class=\"token function\">sleep</span><span class=\"token operator\">-</span>with-configMap-env<span class=\"token punctuation\">.</span>yaml\r\ndeployment<span class=\"token punctuation\">.</span>apps/<span class=\"token function\">sleep</span> configured\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 파드 속의 환경 변수가 적용되었는지 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl exec deploy/<span class=\"token function\">sleep</span> <span class=\"token operator\">--</span> sh <span class=\"token operator\">-</span>c <span class=\"token string\">'printenv | grep \"^KIAMOL\"'</span>\r\nKIAMOL_SECTION=4<span class=\"token punctuation\">.</span>1\r\nKIAMOL_CHAPTER=04</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> <span class=\"token comment\"># 예제 4-2와 같이 정의가 수정된 파드 배치</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> kubectl apply <span class=\"token operator\">-</span>f <span class=\"token function\">sleep</span><span class=\"token operator\">/</span><span class=\"token function\">sleep</span><span class=\"token operator\">-</span>with-configMap-env<span class=\"token punctuation\">.</span>yaml\r\nerror: the path <span class=\"token string\">\"sleep/sleep-with-configMap-env.yaml\"</span> does not exist\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice> cd <span class=\"token punctuation\">.</span>\\ch04\\\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 예제 4-2와 같이 정의가 수정된 파드 배치</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl apply <span class=\"token operator\">-</span>f <span class=\"token function\">sleep</span><span class=\"token operator\">/</span><span class=\"token function\">sleep</span><span class=\"token operator\">-</span>with-configMap-env<span class=\"token punctuation\">.</span>yaml\r\ndeployment<span class=\"token punctuation\">.</span>apps/<span class=\"token function\">sleep</span> configured\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 파드 속의 환경 변수가 적용되었는지 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl exec deploy/<span class=\"token function\">sleep</span> <span class=\"token operator\">--</span> sh <span class=\"token operator\">-</span>c <span class=\"token string\">'printenv | grep \"^KIAMOL\"'</span>\r\nKIAMOL_SECTION=4<span class=\"token punctuation\">.</span>1\r\nKIAMOL_CHAPTER=04 \r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 환경 파일의 내용으로 컨피그맵 생성</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl create configmap <span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-env-file <span class=\"token operator\">--</span><span class=\"token keyword\">from</span><span class=\"token operator\">-</span>env-file=<span class=\"token function\">sleep</span><span class=\"token operator\">/</span>ch04<span class=\"token punctuation\">.</span>env\r\nconfigmap/<span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-env-file created\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> \r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 컨피그맵의 상세 정보 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl get cm <span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-env-file\r\nNAME                    <span class=\"token keyword\">DATA</span>   AGE\r\n<span class=\"token function\">sleep</span><span class=\"token operator\">-</span>config-env-file   3      0s\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 새로운 컨피그맵의 설정을 적용해 파드 업데이트</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl apply <span class=\"token operator\">-</span>f <span class=\"token function\">sleep</span><span class=\"token operator\">/</span><span class=\"token function\">sleep</span><span class=\"token operator\">-</span>with-configMap-env-file<span class=\"token punctuation\">.</span>yaml\r\ndeployment<span class=\"token punctuation\">.</span>apps/<span class=\"token function\">sleep</span> configured\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 컨테이너에 적용된 환경 변수의 값 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl exec deploy/<span class=\"token function\">sleep</span> <span class=\"token operator\">--</span> sh <span class=\"token operator\">-</span>c <span class=\"token string\">'printenv | grep \"^KIAMOL\"'</span>\r\nKIAMOL_EXERCISE=<span class=\"token keyword\">try</span> it now\r\nKIAMOL_SECTION=4<span class=\"token punctuation\">.</span>1        \r\nKIAMOL_CHAPTER=04</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 서비스와 함께 애플리케이션 배치</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl apply <span class=\"token operator\">-</span>f todo-list/todo-web<span class=\"token punctuation\">.</span>yaml\r\nservice/todo-web created\r\ndeployment<span class=\"token punctuation\">.</span>apps/todo-web created\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> \r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 파드가 준비 상태가 될 때까지 대기</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl wait <span class=\"token operator\">--</span><span class=\"token keyword\">for</span>=condition=Ready pod <span class=\"token operator\">-</span>l app=todo-web\r\npod/todo-web-55dfcd87b9-wd2gh condition met\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 애플리케이션에 접근하기 위한 주소를 파일로 출력</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl get svc todo-web <span class=\"token operator\">-</span>o jsonpath=<span class=\"token string\">'http://{.status.loadBalancer.ingress[0].*}:8080'</span>\r\nhttp:<span class=\"token operator\">/</span><span class=\"token operator\">/</span>localhost:8080\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 웹 브라우저에서 애플리케이션에 접근한 다음, 기능을 점검</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 그 다음 경로 /config에 접근</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 애플리케이션 로그 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl logs <span class=\"token operator\">-</span>l app=todo-web\r\nwarn: ToDoList<span class=\"token punctuation\">.</span>Pages<span class=\"token punctuation\">.</span>ConfigModel<span class=\"token punctuation\">[</span>0<span class=\"token punctuation\">]</span>\r\n      Attempt to view config settings</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 기본 설정값이 담긴 설정 파일 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl exec deploy/todo-web <span class=\"token operator\">--</span> sh <span class=\"token operator\">-</span>c <span class=\"token string\">'ls -l /app/app*.json'</span>\r\n<span class=\"token operator\">-</span>rw-r-<span class=\"token operator\">-</span>r-<span class=\"token operator\">-</span>    1 root     root           469 Sep  1  2022 <span class=\"token operator\">/</span>app/appsettings<span class=\"token punctuation\">.</span>json\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 볼륨 마운트로 주입된 설정 파일 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl exec deploy/todo-web <span class=\"token operator\">--</span> sh <span class=\"token operator\">-</span>c <span class=\"token string\">'ls -l /app/config/*.json'</span>\r\nlrwxrwxrwx    1 root     root            18 Jan 17 05:16 <span class=\"token operator\">/</span>app/config/config<span class=\"token punctuation\">.</span>json <span class=\"token operator\">-</span>> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">data</span><span class=\"token operator\">/</span>config<span class=\"token punctuation\">.</span>json\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 볼륨 마운트가 실제로 읽기 전용인지 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl exec deploy/todo-web <span class=\"token operator\">--</span> sh <span class=\"token operator\">-</span>c <span class=\"token string\">'echo ch04 >> /app/config/config.json'</span>\r\nsh: can't create <span class=\"token operator\">/</span>app/config/config<span class=\"token punctuation\">.</span>json: <span class=\"token function\">Read-only</span> file system\r\ncommand terminated with <span class=\"token keyword\">exit</span> code 1</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 컨피그맵 업데이트</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl apply <span class=\"token operator\">-</span>f todo-list/configMaps/todo-web-config-dev-with-logging<span class=\"token punctuation\">.</span>yaml\r\nconfigmap/todo-web-config-dev configured\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 업데이트된 컨피그맵이 파드에 반영될 때까지 대기</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token function\">sleep</span> 120\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> \r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 설정 파일에 반영되었는지 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl exec deploy/todo-web <span class=\"token operator\">--</span> sh <span class=\"token operator\">-</span>c <span class=\"token string\">'ls -l /app/config/*.json'</span>\r\nlrwxrwxrwx    1 root     root            18 Jan 17 05:16 <span class=\"token operator\">/</span>app/config/config<span class=\"token punctuation\">.</span>json <span class=\"token operator\">-</span>> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">data</span><span class=\"token operator\">/</span>config<span class=\"token punctuation\">.</span>json  \r\nlrwxrwxrwx    1 root     root            19 Jan 17 05:44 <span class=\"token operator\">/</span>app/config/logging<span class=\"token punctuation\">.</span>json <span class=\"token operator\">-</span>> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">data</span><span class=\"token operator\">/</span>logging<span class=\"token punctuation\">.</span>json\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> <span class=\"token comment\"># 애플리케이션에 접근해 로그 출력이 변화했는지 확인</span>\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl logs <span class=\"token operator\">-</span>l app=todo-web\r\n<span class=\"token function\">PS</span> C:\\Users\\hdyang\\Desktop\\Project\\k8s-practice\\ch04> kubectl logs <span class=\"token operator\">-</span>l app=todo-web\r\ndbug: ToDoList<span class=\"token punctuation\">.</span>Pages<span class=\"token punctuation\">.</span>IndexModel<span class=\"token punctuation\">[</span>0<span class=\"token punctuation\">]</span>\r\n      GET <span class=\"token operator\">/</span> called\r\ndbug: ToDoList<span class=\"token punctuation\">.</span>Pages<span class=\"token punctuation\">.</span>IndexModel<span class=\"token punctuation\">[</span>0<span class=\"token punctuation\">]</span>\r\n      Fetched count: 0 <span class=\"token keyword\">from</span> service</code></pre></div>\n<h2 id=\"source\" style=\"position:relative;\"><a href=\"#source\" aria-label=\"source permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source</h2>\n<ul>\n<li>『쿠버네티스 교과서』- 엘튼 스톤맨, 길벗<br>\n<a href=\"https://github.com/gilbutITbook/kiamol\" target=\"_blank\" rel=\"nofollow\">https://github.com/gilbutITbook/kiamol</a></li>\n</ul>","id":"a25f762b-5802-5159-8af5-94c619329703","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EA%B0%9C%EB%85%90-%EC%9A%94%EC%95%BD\">개념 요약</a></p>\n<ul>\n<li><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%9D%98-%EC%9E%A5%EC%A0%90%EA%B3%BC-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95%EA%B0%92\">컨테이너의 장점과 환경 설정값</a></li>\n<li><a href=\"#%EC%BB%A8%ED%94%BC%EA%B7%B8%EB%A7%B5%EC%99%80-%EB%B9%84%EB%B0%80%EA%B0%92%EC%9D%98-%ED%8A%B9%EC%A7%95\">컨피그맵와 비밀값의 특징</a></li>\n<li><a href=\"#%EC%BB%A8%ED%94%BC%EA%B7%B8%EB%A7%B5\">컨피그맵</a></li>\n<li><a href=\"#k8s%EC%9D%98-%EC%B6%9C%EC%B2%98%EB%B3%84-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84\">k8s의 출처별 환경변수 우선순위</a></li>\n<li><a href=\"#%EC%BB%A8%ED%94%BC%EA%B7%B8%EC%95%B1-%ED%8C%8C%EC%9D%BC-%EC%B6%94%EA%B0%80\">컨피그앱 파일 추가</a></li>\n<li><a href=\"#%EC%BB%A8%ED%94%BC%EA%B7%B8%EC%95%B1-%EB%A7%88%EC%9A%B4%ED%8A%B8-%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD\">컨피그앱 마운트 주의사항</a></li>\n<li><a href=\"#data%EC%99%80-string-data%EC%9D%98-%EC%B0%A8%EC%9D%B4\">data와 string data의 차이</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%8B%A4%EC%8A%B5\">실습</a></p>\n<ul>\n<li><a href=\"#%EC%A3%BC%EC%9A%94-%EC%9A%94%EC%A0%90%EB%93%A4\">주요 요점들</a></li>\n<li><a href=\"#%EB%A7%A4%EB%8B%88%ED%8E%98%EC%8A%A4%ED%8A%B8-%ED%8C%8C%EC%9D%BC\">매니페스트 파일</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#source\">Source</a></p>\n</li>\n</ul>","frontmatter":{"title":"『쿠버네티스 교과서』실습 4장 part 1","summary":"엘튼 스톤맨의 『쿠버네티스 교과서』를 바탕으로 k8s 실습을 진행합니다.","date":"2024.01.19.","categories":["K8s","Docker","DevOps"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAcCBQj/xAAWAQEBAQAAAAAAAAAAAAAAAAAJAgX/2gAMAwEAAhADEAAAAUQ68/wQe68DIU3/xAAbEAABBAMAAAAAAAAAAAAAAAACAAMEBQEGEP/aAAgBAQABBQKG209L3Oloq2GsozMuf//EACERAAICAQIHAAAAAAAAAAAAAAECAwQSABEFBxM0QXOy/9oACAEDAQE/AeQ9V7DcFaOxNWNW1FO/SZgLEWKg1pV3CNG3nIMQC2OzYstDsqvoi+Rr/8QAHhEAAQMFAQEAAAAAAAAAAAAAAwECEgAEESFhBTL/2gAIAQIBAT8B9S3IS4AZpyDYGUxNxA0sfes64qdkmqWv/8QAIxAAAgEDBAEFAAAAAAAAAAAAAQIRAxIiBBAhMQAFEzJBUf/aAAgBAQAGPwLT067W0nqAOTcOPzHLkwMcj0uUeaOr6ZUT3nsVlV5vWADwoCFvkzNIbDhFU75OzRMXMWie+ye/vb//xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhMUFx/9oACAEBAAE/ITqO+CxlF14nd15QbYYQsJzV+IXNc9YyfLHAxqUGnYXhjn//2gAMAwEAAgADAAAAEFv/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxBFpaYiyxm1CBz+v//EABoRAQEAAgMAAAAAAAAAAAAAAAERADFBcbH/2gAIAQIBAT8Qs1GoBEKWhnNcjZ7fc//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExwXH/2gAIAQEAAT8QuLX5IofsSCd43ADOLxb1Xx453POs5cjI3Qk8gWXBUWtsG551n//Z"},"images":{"fallback":{"src":"/static/582542484766a1b4ac3c5f037914dd69/bc134/k8s.jpg","srcSet":"/static/582542484766a1b4ac3c5f037914dd69/2278c/k8s.jpg 320w,\n/static/582542484766a1b4ac3c5f037914dd69/0f1c0/k8s.jpg 640w,\n/static/582542484766a1b4ac3c5f037914dd69/bc134/k8s.jpg 1280w","sizes":"(min-width: 1280px) 1280px, 100vw"},"sources":[{"srcSet":"/static/582542484766a1b4ac3c5f037914dd69/378b7/k8s.webp 320w,\n/static/582542484766a1b4ac3c5f037914dd69/3c3fb/k8s.webp 640w,\n/static/582542484766a1b4ac3c5f037914dd69/c2dd8/k8s.webp 1280w","type":"image/webp","sizes":"(min-width: 1280px) 1280px, 100vw"}]},"width":1280,"height":720}},"publicURL":"/static/582542484766a1b4ac3c5f037914dd69/k8s.jpg"}}}}]}},"pageContext":{"slug":"/k8s_prac_4_1/"}},"staticQueryHashes":[]}