{"componentChunkName":"component---src-templates-post-template-tsx","path":"/sw-coaching-week-2/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><em>본 포스트는 IOWA 대학 <strong>이강표</strong>(Kang-Pyo Lee) 박사님의 허락을 구하고 강의를 정리한 것입니다.</em><br>\n<em>강의 사진, 코드의 저작권은 모두 이강표 박사님께 있습니다.</em></p>\n<h2 id=\"1-강의-정리\" style=\"position:relative;\"><a href=\"#1-%EA%B0%95%EC%9D%98-%EC%A0%95%EB%A6%AC\" aria-label=\"1 강의 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 강의 정리</h2>\n<p>이번 강의는 이론보다는 실습 위주로 진행했습니다. 일부 중요점만 정리하여 알아보겠습니다.</p>\n<h3 id=\"urls로-html-가져오기\" style=\"position:relative;\"><a href=\"#urls%EB%A1%9C-html-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\" aria-label=\"urls로 html 가져오기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>urls로 html 가져오기</h3>\n<p>웹페이지에서 <strong>features</strong> 같이 여러 페이지가 목록화되어있는 페이지를 찾습니다.<br>\n해당 페이지에서 각 <strong>url</strong>을 추출한 다음 이를 바탕으로 <strong>html</strong> 파일을 불러오고 저장합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">urls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"https://fivethirtyeight.com/features/\"</span><span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token comment\"># The range(2, 11) generates a list of integers from 2 to 10.</span>\r\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    url <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"https://fivethirtyeight.com/features/page/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span><span class=\"token string\">/\"</span></span>\r\n    urls<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">for</span> url <span class=\"token keyword\">in</span> urls<span class=\"token punctuation\">:</span>\r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token comment\"># Get the content of a pag</span>\r\n    r <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\r\n    soup <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">,</span> <span class=\"token string\">\"html.parser\"</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token comment\"># Get the list of article</span>\r\n    h2_list <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">\"h2\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"article-title entry-title\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    \r\n    <span class=\"token keyword\">for</span> h2 <span class=\"token keyword\">in</span> h2_list<span class=\"token punctuation\">:</span>\r\n        <span class=\"token comment\"># Find the anchor tag</span>\r\n        a <span class=\"token operator\">=</span> h2<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span>\r\n        \r\n        <span class=\"token comment\"># Extract the title &amp; URL of an article</span>\r\n        title <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>text\r\n        article_url <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span><span class=\"token string\">\"href\"</span><span class=\"token punctuation\">]</span>\r\n        \r\n        <span class=\"token comment\"># Fetch the content and save it as an HTML file</span>\r\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"- \"</span> <span class=\"token operator\">+</span> article_url <span class=\"token operator\">+</span> <span class=\"token string\">\": processing...\"</span><span class=\"token punctuation\">)</span>\r\n        \r\n        r2 <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>article_url<span class=\"token punctuation\">)</span>\r\n                \r\n        <span class=\"token keyword\">if</span> <span class=\"token string\">\"/features/\"</span> <span class=\"token keyword\">in</span> article_url<span class=\"token punctuation\">:</span>\r\n          file_name <span class=\"token operator\">=</span> article_url<span class=\"token punctuation\">[</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://fivethirtyeight.com/features/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".html\"</span>\r\n        <span class=\"token keyword\">elif</span> <span class=\"token string\">\"/videos/\"</span> <span class=\"token keyword\">in</span> article_url<span class=\"token punctuation\">:</span>\r\n          file_name <span class=\"token operator\">=</span> article_url<span class=\"token punctuation\">[</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://fivethirtyeight.com/videos/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".html\"</span>\r\n        <span class=\"token keyword\">elif</span> <span class=\"token string\">\"/methodology/\"</span> <span class=\"token keyword\">in</span> article_url<span class=\"token punctuation\">:</span>\r\n          file_name <span class=\"token operator\">=</span> article_url<span class=\"token punctuation\">[</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://fivethirtyeight.com/methodology/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".html\"</span>\r\n        <span class=\"token keyword\">elif</span> <span class=\"token string\">\"/live-blog/\"</span> <span class=\"token keyword\">in</span> article_url<span class=\"token punctuation\">:</span>\r\n          file_name <span class=\"token operator\">=</span> article_url<span class=\"token punctuation\">[</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://fivethirtyeight.com/live-blog/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".html\"</span>\r\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token keyword\">assert</span> <span class=\"token number\">0</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Unknown article url pattern!\"</span>\r\n\r\n        <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>outcome_folder<span class=\"token punctuation\">}</span></span><span class=\"token string\">/HTMLs/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>file_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w+b\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fw<span class=\"token punctuation\">:</span>\r\n            fw<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>r2<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span>\r\n        \r\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"- \"</span> <span class=\"token operator\">+</span> file_name <span class=\"token operator\">+</span> <span class=\"token string\">\": saved.\"</span><span class=\"token punctuation\">)</span>\r\n        \r\n        <span class=\"token comment\"># Sleep for a second to not overload the web site</span>\r\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>html 파일을 <strong>저장</strong>하는 이유<br>\n= 웹페이지 파일은 언제든지 바뀔 수 있기 때문에<br>\n<br>\n<code class=\"language-text\">article_url[len(\"https://fivethirtyeight.com/live-blog/\"):-1]</code><br>\n= 웹 사이트에서 해당 포스트의 이름만 가져오기 위해<br>\n= url 패턴을 분류하기 위해<br>\n<br>\n<code class=\"language-text\">time.sleep(1)</code><br>\n= <strong>politeness policy</strong>를 지키기 위해</p>\n<h3 id=\"csv-파일로-저장\" style=\"position:relative;\"><a href=\"#csv-%ED%8C%8C%EC%9D%BC%EB%A1%9C-%EC%A0%80%EC%9E%A5\" aria-label=\"csv 파일로 저장 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>csv 파일로 저장</h3>\n<p>다운받은 <strong>html</strong> 파일에서 필요한 자료 <strong>file_name, article_title, article_author</strong> 만 추출하여 <strong>csv</strong> 파일을 만듭니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>outcome_folder<span class=\"token punctuation\">}</span></span><span class=\"token string\">/html_metadata.csv\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fw<span class=\"token punctuation\">:</span>\r\n    <span class=\"token comment\"># Column names on the first row</span>\r\n    fw<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"file_name\\tarticle_title\\tarticle_author\\n\"</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">for</span> file_name <span class=\"token keyword\">in</span> os<span class=\"token punctuation\">.</span>listdir<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>outcome_folder<span class=\"token punctuation\">}</span></span><span class=\"token string\">/HTMLs\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> file_name<span class=\"token punctuation\">.</span>endswith<span class=\"token punctuation\">(</span><span class=\"token string\">\".html\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n            <span class=\"token keyword\">continue</span>\r\n        \r\n        <span class=\"token comment\"># Column values starting from the second row</span>\r\n        <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>outcome_folder<span class=\"token punctuation\">}</span></span><span class=\"token string\">/HTMLs/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>file_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"r+b\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fr<span class=\"token punctuation\">:</span>\r\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>file_name<span class=\"token punctuation\">)</span>\r\n            soup <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>fr<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"html.parser\"</span><span class=\"token punctuation\">)</span>\r\n            \r\n            <span class=\"token comment\"># No title exception handling</span>\r\n            <span class=\"token keyword\">if</span> soup<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"h1\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"article-title article-title-single entry-title\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\r\n                article_title <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\r\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n                article_title <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"h1\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"article-title article-title-single entry-title\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n            \r\n            <span class=\"token comment\"># No author exception handling</span>\r\n            <span class=\"token keyword\">if</span> soup<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"author url fn\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\r\n                article_author <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\r\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n                article_author <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"author url fn\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text\r\n            \r\n            <span class=\"token comment\"># Remove all possible tabs</span>\r\n            article_title <span class=\"token operator\">=</span> article_title<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\"\\t\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\r\n            article_aurthor <span class=\"token operator\">=</span> article_author<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\"\\t\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\r\n                        \r\n            fw<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>file_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\t</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>article_title<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\t</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>article_author<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n\"</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">\\t</code>을 사용하는 이유<br>\n= article_title에 <code class=\"language-text\">,</code>가 있을 수도 있으므로 기본 구분자를 <code class=\"language-text\">\\t</code>로 대체합니다.<br>\n<br>\n<code class=\"language-text\">if soup.find(\"a\", {\"class\": \"author url fn\"}) == None:</code><br>\n= article_author가 없는 경우를 확인합니다.  article_title도 동일합니다.</p>\n<h2 id=\"2-코드-코칭\" style=\"position:relative;\"><a href=\"#2-%EC%BD%94%EB%93%9C-%EC%BD%94%EC%B9%AD\" aria-label=\"2 코드 코칭 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 코드 코칭</h2>\n<p><em>코드 전문은 분량상 제외하였으며, 피드백 위주로 정리하였습니다. Colab 환경을 기반으로 합니다.</em></p>\n<h3 id=\"hierarchy-사용-기준\" style=\"position:relative;\"><a href=\"#hierarchy-%EC%82%AC%EC%9A%A9-%EA%B8%B0%EC%A4%80\" aria-label=\"hierarchy 사용 기준 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>hierarchy 사용 기준</h3>\n<p>아래의 웹사이트에서 포스트의 excerpt, author를 불러오는 코드를 다음과 같이 작성할 수 있습니다.<br>\n<a href=\"https://www.kdnuggets.com/2021/05/top-programming-languages.html\" target=\"_blank\" rel=\"nofollow\">https://www.kdnuggets.com/2021/05/top-programming-languages.html</a><br>\n<strong>코드 1</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">ans2_1 <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"post-header-has-award\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"excerpt\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\nans2_2 <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"author-link\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"rel\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"author\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>코드 2</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">ans2_1 <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"excerpt\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\nans2_2 <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"rel\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"author\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>코드 1</strong>의 경우 hierarchy를 의식해서 부모의 class를 지정해 주었지만, 찾고자 하는 대상의 element나 attrs가 정확하다면 <strong>굳이 hierarchy를 고집할 필요는 없습니다</strong>. 따라서 <strong>코드 2</strong>가 더 바람직하다고 할 수 있습니다.</p>\n<h3 id=\"필요한-사진-경로만-불러오기\" style=\"position:relative;\"><a href=\"#%ED%95%84%EC%9A%94%ED%95%9C-%EC%82%AC%EC%A7%84-%EA%B2%BD%EB%A1%9C%EB%A7%8C-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0\" aria-label=\"필요한 사진 경로만 불러오기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>필요한 사진 경로만 불러오기</h3>\n<p>웹사이트에서 본문의 사진을 불러오면 아래처럼 나옵니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">imgs <span class=\"token operator\">=</span> soup<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"post-\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">for</span> img <span class=\"token keyword\">in</span> imgs<span class=\"token punctuation\">:</span>\r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">[</span><span class=\"token string\">\"src\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">data<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%201000%200'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\ndata<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%20271%20262'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Python_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\ndata<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%20263%20297'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_JavaScript_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\ndata<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%20199%20264'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Java_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\ndata<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%20350%20271'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_R_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\ndata<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%20350%20168'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_C_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\ndata<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%20216%20297'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Go_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\ndata<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%20284%20313'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Csharp_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\ndata<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%20350%20196'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_PHP_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\ndata<span class=\"token punctuation\">:</span>image<span class=\"token operator\">/</span>svg<span class=\"token operator\">+</span>xml<span class=\"token punctuation\">,</span><span class=\"token operator\">%</span>3Csvg<span class=\"token operator\">%</span>20xmlns<span class=\"token operator\">=</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token operator\">%</span>20viewBox<span class=\"token operator\">=</span><span class=\"token string\">'0%200%20313%20313'</span><span class=\"token operator\">%</span>3E<span class=\"token operator\">%</span>3C<span class=\"token operator\">/</span>svg<span class=\"token operator\">%</span>3E\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Swift_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg</code></pre></div>\n<p>이 중에서 우리가 원하는 것은 <code class=\"language-text\">.endswith()</code>으로 매우 간단히 추출할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">for</span> img <span class=\"token keyword\">in</span> img_list<span class=\"token punctuation\">:</span> \r\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> img<span class=\"token punctuation\">[</span><span class=\"token string\">\"src\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>endswith<span class=\"token punctuation\">(</span><span class=\"token string\">\".jpg\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> \r\n        <span class=\"token keyword\">continue</span> \r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">[</span><span class=\"token string\">\"src\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> </code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">https<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Python_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_JavaScript_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Java_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_R_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_C_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Go_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Csharp_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_PHP_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg\r\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>www<span class=\"token punctuation\">.</span>kdnuggets<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>wp<span class=\"token operator\">-</span>content<span class=\"token operator\">/</span>uploads<span class=\"token operator\">/</span>Costa_Swift_top<span class=\"token operator\">-</span>programming<span class=\"token operator\">-</span>languages<span class=\"token punctuation\">.</span>jpg</code></pre></div>\n<h3 id=\"timesleep의-위치\" style=\"position:relative;\"><a href=\"#timesleep%EC%9D%98-%EC%9C%84%EC%B9%98\" aria-label=\"timesleep의 위치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>time.sleep()의 위치</h3>\n<p>다음 WHO 웹페이지 목록에서 필요한 정보(제목, url)를 추출해서 csv로 저장하는 코드입니다.<br>\n<a href=\"https://www.who.int/news-room/releases/1/\" target=\"_blank\" rel=\"nofollow\">https://www.who.int/news-room/releases/1/</a></p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">import</span> time\r\n<span class=\"token keyword\">import</span> os\r\n\r\nurls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    url <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"https://www.who.int/news-room/releases/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span><span class=\"token string\">/\"</span></span>\r\n    urls<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>outcome_folder<span class=\"token punctuation\">}</span></span><span class=\"token string\">/hw2_output.csv\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fw<span class=\"token punctuation\">:</span>\r\n    fw<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"title\\turl\\n\"</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">for</span> url <span class=\"token keyword\">in</span> urls<span class=\"token punctuation\">:</span>\r\n        r <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\r\n        soup3 <span class=\"token operator\">=</span> BeautifulSoup<span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">,</span> <span class=\"token string\">\"html.parser\"</span><span class=\"token punctuation\">)</span>\r\n        a_list <span class=\"token operator\">=</span> soup3<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"list-view vertical-list vertical-list--image\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>find_all<span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"link-container table\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        \r\n        <span class=\"token keyword\">for</span> a <span class=\"token keyword\">in</span> a_list<span class=\"token punctuation\">:</span>\r\n            \r\n            title <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">,</span> attrs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"heading text-underline\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\"\\r\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n            url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://www.who.int\"</span><span class=\"token operator\">+</span>a<span class=\"token punctuation\">[</span><span class=\"token string\">\"href\"</span><span class=\"token punctuation\">]</span>\r\n            fw<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\t</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>url<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n\"</span></span><span class=\"token punctuation\">)</span>\r\n\r\n        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>여기서 <code class=\"language-text\">time.sleep()</code>의 위치가 중첩 반복문의 어느 위치에 있는지 주의해야 합니다. 내부 반복문은 한 페이지 내에서 element를 찾는 것이므로 <code class=\"language-text\">time.sleep()</code>가 필요하지 않습니다. 따라서 새로 페이지를 request 하는 바깥 반복문에 위치하여야 합니다.</p>\n<ul>\n<li><code class=\"language-text\">time.sleep()</code> 의 위치 == <code class=\"language-text\">requests.get(url)</code> 의 위치</li>\n</ul>\n<h2 id=\"3-느낀-점\" style=\"position:relative;\"><a href=\"#3-%EB%8A%90%EB%82%80-%EC%A0%90\" aria-label=\"3 느낀 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 느낀 점</h2>\n<p>저번주에 이어 <strong>Web scraping</strong>에 대해 많은 것을 배운 좋은 시간이었습니다. 단순히 배우고 과제를 하는 것에 그치지 않고, 개인 프로젝트의 윤곽을 잡으면서 스스로 공부를 더 해나가도록 노력하는 중입니다 😊.</p>\n<h2 id=\"source\" style=\"position:relative;\"><a href=\"#source\" aria-label=\"source permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source</h2>\n<ul>\n<li>성균관대학교 SW Coaching 프로그램</li>\n<li>이강표(Kang-Pyo Lee) 박사님 강의</li>\n</ul>\n<!--\r\n1주 Web Scraping 기초\r\n2주 Web Scraping 심화\r\n3주 Pandas Dataframe 다루기\r\n4주 텍스트 데이터 처리\r\n5주 문서 클러스터링 및 토픽 모델링\r\n6주 개인 프로젝트 발표\r\n-->","id":"b634344b-8370-5788-b1d9-dc6e72589957","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-%EA%B0%95%EC%9D%98-%EC%A0%95%EB%A6%AC\">1. 강의 정리</a></p>\n<ul>\n<li><a href=\"#urls%EB%A1%9C-html-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\">urls로 html 가져오기</a></li>\n<li><a href=\"#csv-%ED%8C%8C%EC%9D%BC%EB%A1%9C-%EC%A0%80%EC%9E%A5\">csv 파일로 저장</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-%EC%BD%94%EB%93%9C-%EC%BD%94%EC%B9%AD\">2. 코드 코칭</a></p>\n<ul>\n<li><a href=\"#hierarchy-%EC%82%AC%EC%9A%A9-%EA%B8%B0%EC%A4%80\">hierarchy 사용 기준</a></li>\n<li><a href=\"#%ED%95%84%EC%9A%94%ED%95%9C-%EC%82%AC%EC%A7%84-%EA%B2%BD%EB%A1%9C%EB%A7%8C-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0\">필요한 사진 경로만 불러오기</a></li>\n<li><a href=\"#timesleep%EC%9D%98-%EC%9C%84%EC%B9%98\">time.sleep()의 위치</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EB%8A%90%EB%82%80-%EC%A0%90\">3. 느낀 점</a></p>\n</li>\n<li>\n<p><a href=\"#source\">Source</a></p>\n</li>\n</ul>","frontmatter":{"title":"[SW Coaching - Week 2] Web Scraping 심화","summary":"파이썬 Web Scraping, html 및 csv로 저장, time.sleep() 위치","date":"2023.01.09.","categories":["Python","WebScraping","SW-Coaching"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABJUlEQVQoz3WQwY6CMBCGeRxKZ6edFtGDFwO7oQSNXOBgTDVKeADePzF0lCUkfgcydNr+3zQyxhCRMcZam6apDZiA/bCqGSKK1AchRBzHSZIIIZIkkVLyCv/yOteIyEcirbVSylrrnDudTr+BoijyPC/Lsqqqoij+AnVdV1V1OByISCmltZ6SEdEY471/Pp/X69V737bt5XJ5PB7e+2EYuq47n89939/v967rtNYYmJI5XErJtlJKAEBEluQWd3nDPOlbmzUYIgIA7/04jrfbrWka7lJgDpsOszZ/55dAxDRN9/v9drvd7XbL9bl4ay9jZwCA/QFgqbYsotWV/BhE5Jw7Ho91Xed5vsr8n1l9gYWzLNtsNt/2REuZpR4i/gQQcZ5lNeALBoKIe/RMhN8AAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/53122a9a2c7a0b2606df3db950532da4/8e4fb/title.png","srcSet":"/static/53122a9a2c7a0b2606df3db950532da4/889c2/title.png 256w,\n/static/53122a9a2c7a0b2606df3db950532da4/6108e/title.png 512w,\n/static/53122a9a2c7a0b2606df3db950532da4/8e4fb/title.png 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/53122a9a2c7a0b2606df3db950532da4/0841e/title.webp 256w,\n/static/53122a9a2c7a0b2606df3db950532da4/cd676/title.webp 512w,\n/static/53122a9a2c7a0b2606df3db950532da4/75203/title.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":576}},"publicURL":"/static/53122a9a2c7a0b2606df3db950532da4/title.png"}}}}]}},"pageContext":{"slug":"/sw-coaching-week-2/"}},"staticQueryHashes":[]}